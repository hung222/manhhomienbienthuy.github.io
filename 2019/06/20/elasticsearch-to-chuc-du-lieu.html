<!DOCTYPE html><html lang=vi class="html-padding antialiased"><head><meta charset=utf-8><title>Elasticsearch: tổ chức dữ liệu | Blog | manhhomienbienthuy</title><meta name=viewport content="width=device-width, initial-scale=1"><link rel=apple-touch-icon href=/icon-touch.png><link rel=icon sizes=192x192 href=/icon-touch.png><link rel="shortcut icon" href=/favicon.ico><link rel=canonical href=https://manhhomienbienthuy.github.io/2019/06/20/elasticsearch-to-chuc-du-lieu.html><meta name=msapplication-TileImage content=/icon-tile.png><meta name=twitter:dnt content=on><meta name=Author content=manhhomienbienthuy><meta name=rating content=general><meta name=twitter:card content=product><meta name=twitter:site content=@_naa_4f><meta name=twitter:creator content=@_naa_4f><link type=application/rss+xml rel=alternate title="Blog | manhhomienbienthuy Full RSS Feed" href=https://manhhomienbienthuy.github.io/feeds/rss.xml><meta name=description content="Xin chào. Tôi là manhhomienbienthuy, nickname khác là naa. Đây là thế giới của tôi, chào mừng đến với thế giới của tôi… Trong bài viết trước tôi đã trình bày những điều rất cơ bản khi biết đến Elasticsearch. Quả thật Elasticsearch đã đáp ứng rất tốt bài toán cụ thể của tôi. Thế nhưng, điều gì đã giúp Elasticsearch có thể làm được điều đó? Tiếp tục tìm hiểu về Elasticsearch […]"><meta name=keywords content="Elasticsearch, Search engine, search, blog, naa, manhhomienbienthuy, personal blog"><meta name=twitter:title content="Elasticsearch: tổ chức dữ liệu | Blog | manhhomienbienthuy"><meta name=twitter:description content="Xin chào. Tôi là manhhomienbienthuy, nickname khác là naa. Đây là thế giới của tôi, chào mừng đến với thế giới của tôi… Trong bài viết trước tôi đã trình bày những điều rất cơ bản khi biết đến Elasticsearch. Quả thật Elasticsearch đã đáp ứng rất tốt bài toán cụ thể của tôi. Thế nhưng, điều gì đã giúp Elasticsearch có thể làm được điều đó? Tiếp tục tìm hiểu về Elasticsearch […]"><meta name=twitter:image content=/https://i.imgur.com/JT4y7Qf.jpg><link rel=stylesheet href=/theme/css/app.min.css><script>try{"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch{}</script></head><body class="text-gray-500 bg-gray-100 dark:bg-gray-700 dark:text-gray-300"><header class=mb-8><div class="fixed z-50 top-0 left-0 right-0 text-white bg-gray-900"><div class="relative flex flex-wrap justify-between items-center gap-x-4 max-w-screen-xl mx-auto px-4"><a href=/ class="my-2.5 rounded-full"><img width=20 height=20 class="h-5 w-5 rounded-full" src=/meow.webp alt=manhhomienbienthuy></a><div class="flex-grow flex items-center gap-x-0.5 md:hidden text-xs"><svg xmlns=http://www.w3.org/2000/svg class="jsMenuToggle h-5 w-5 cursor-pointer" fill=none viewbox="0 0 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"/></svg><span class="jsMenuToggle uppercase cursor-pointer">Menu</span></div><nav class="jsMenus hidden md:block flex-grow order-last md:order-none w-full md:w-auto text-xs uppercase bg-gray-900 divide-y md:divide-y-0"><a href=/ class="block md:inline p-4"> Trang chủ </a><a class="block md:inline p-4" href=/category/cuoc-song.html> Cuộc sống </a><a class="block md:inline p-4" href=/category/du-lich.html> Du lịch </a><a class="block md:inline p-4" href=/category/lap-trinh.html> Lập trình </a><a class="block md:inline p-4" href=/category/tong-hop.html> Tổng hợp </a></nav><div class="flex justify-between gap-x-3 items-center"><a href=https://twitter.com/_naa_4f target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>Twitter</title><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/></svg></a><a href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg></a><a href=https://www.facebook.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg></a><a href=https://github.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a><a href=/feeds/rss.xml target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>RSS Feed</title><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"/></svg></a><div class="flex items-center pl-2 border-l border-gray-800 text-gray-400 dark:text-gray-500"><button type=button id=jsThemeToggle><span class=dark:hidden><svg viewbox="0 0 24 24" fill=none stroke-width=2 stroke-linecap=round stroke-linejoin=round stroke=currentColor class="w-5 h-5"><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg></span><span class="hidden dark:inline"><svg viewbox="0 0 24 24" fill=currentColor class="w-5 h-5"><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path fill-rule=evenodd clip-rule=evenodd d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z"/></svg></span></button></div></div></div><ul class="jsThemeMenus hidden absolute z-50 top-full right-2 w-36 mt-2 py-1 text-sm font-semibold bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-500 rounded-lg shadow-lg overflow-hidden"><li class="py-1 px-2 flex items-center cursor-pointer" id=jsThemeLight><svg viewbox="0 0 24 24" fill=none stroke-width=2 stroke-linecap=round stroke-linejoin=round stroke=currentColor class="w-6 h-6 mr-2"><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> Light </li><li class="py-1 px-2 flex items-center cursor-pointer" id=jsThemeDark><svg viewbox="0 0 24 24" fill=currentColor class="w-6 h-6 mr-2"><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path fill-rule=evenodd clip-rule=evenodd d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z"/></svg> Dark </li><li class="py-1 px-2 flex items-center cursor-pointer text-sky-500" id=jsThemeSystem><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6 mr-2 text-gray-400 dark:text-gray-500" fill=none viewbox="0 0 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap=round stroke-linejoin=round d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg> System </li></ul></div><div class="pt-10 md:pt-12 bg-white shadow dark:bg-gray-800 dark:text-gray-100"><div class="max-w-screen-xl mx-auto px-6 py-4"><a href=/ title="Blog | manhhomienbienthuy"><svg width=1000 height=165 version=1.0 viewbox="0 0 1000 165" fill=currentColor class="max-w-full max-h-24 w-auto h-auto mx-auto text-gray-900 dark:text-gray-100" xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg></a></div></div></header><main><div class="grid grid-cols-1 md:grid-cols-7 items-start gap-6 max-w-screen-xl mx-auto px-6"><div class=md:col-span-5><div class="bg-white p-8 shadow-lg dark:bg-gray-800"><h1 class="mb-4 text-3xl leading-relaxed font-bold text-gray-900 uppercase dark:text-gray-100"> Elasticsearch: tổ chức dữ liệu </h1><img width=360 height=270 class="w-full h-auto mb-4" src=https://i.imgur.com/JT4y7Qf.jpg alt="Elasticsearch: tổ chức dữ liệu"><div class="flex flex-wrap gap-x-4 mb-10 py-2 text-sm leading-relaxed text-gray-400 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100"><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg><a href=/category/lap-trinh.html> Lập trình </a></div><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><a href=/2019> 2019-06-20 </a></div><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><a href=/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg> 2021-07-28 14:55:22 (JST) </div></div><div class="md:text-lg leading-loose md:leading-loose text-justify"><p class=my-4>Trong <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://manhhomienbienthuy.github.io/2019/05/20/elasticsearch-gioi-thieu.html rel="noopener noreferrer" target=_blank>bài viết trước</a> tôi đã trình bày những điều rất cơ bản khi biết đến Elasticsearch. Quả thật Elasticsearch đã đáp ứng rất tốt bài toán cụ thể của tôi. Thế nhưng, điều gì đã giúp Elasticsearch có thể làm được điều đó?</p><p class=my-4>Tiếp tục tìm hiểu về Elasticsearch mới thấy, đằng sau những query và response tưởng như rất đơn giản kia là cả một tổ hợp rất phức tạp của biết bao tinh hoa công nghệ trên thế giới.</p><p class=my-4>Trong bài viết này, tôi sẽ tiếp tục trình bày cách thức Elasticsearch tổ chức lưu trữ cũng như tìm kiếm dữ liệu. Đó chính là một phần rất quan trọng làm nên năng lực vượt trội của Elasticsearch.</p><div class="p-2 text-xs leading-relaxed bg-gray-100 whitespace-nowrap overflow-auto dark:bg-gray-900"><span class="font-semibold text-sm text-gray-900 mb-4 dark:text-gray-100">Mục lục</span><ul><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#elasticsearch-to-chuc-du-lieu-nhu-the-nao>Elasticsearch tổ chức dữ liệu như thế nào</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#tai-lieu-va-index>Tài liệu và index</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#node-va-cluster>Node và cluster</a></li></ul></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#luu-tru-du-lieu-va-tim-kiem>Lưu trữ dữ liệu và tìm kiếm</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#storage-model>Storage Model</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#tim-kiem>Tìm kiếm</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#o-tuong-quan>Độ tương quan</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#anh-gia-hieu-nang-tim-kiem>Đánh giá hiệu năng tìm kiếm</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#indexing>Indexing</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#tuy-bien-mapping>Tuỳ biến mapping</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#index-refresh>Index Refresh</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#index-flush>Index Flush</a></li></ul></li></ul></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#mot-so-van-e-hay-gap-voi-elasticsearch>Một số vấn đề hay gặp với Elasticsearch</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#clusther-health>Clusther health</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#qua-nhieu-tai-lieu>Quá nhiều tài liệu</a></li></ul></li></ul></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=elasticsearch-to-chuc-du-lieu-nhu-the-nao><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#elasticsearch-to-chuc-du-lieu-nhu-the-nao title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Elasticsearch tổ chức dữ liệu như thế nào</h2><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tai-lieu-va-index><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#tai-lieu-va-index title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Tài liệu và index</h3><p class=my-4>Elasticsearch sử dụng "index" để lưu trữ và xử lý dữ liệu, nó tương tự một cơ sở dữ liệu thông thường. Dữ liệu sẽ được lưu trữ thành các "tài liệu" dưới dạng JSON. Mỗi một index có nhiều "type" (tương tự như bảng trong cơ sở dữ liệu), điều này sẽ giúp chúng ta phân tách các loại dữ liệu khác nhau khi lưu vào cùng một index.</p><p class=my-4>Mọi tài liệu được lưu vào trong cùng một type của một index sẽ có cấu trúc các trường và kiểu dữ liệu giống hệt nhau (giống như mỗi bảng có một schema trong các hệ cơ sở dữ liệu quan hệ)</p><p class=my-4>Mỗi một index của Elasticsearch có một hoặc nhiều shard (tuỳ cấu hình, mặc định là 5). Các shard này lại tồn tại trên các node khác nhau. Nội dung về shard và node này liên quan nhiều đến kiến trúc của Elasticsearch (sẽ tìm hiểu ở phần sau), cũng là một phần rất quan trọng giúp Elasticsearch có thể thực hiện công việc tìm kiếm một cách nhanh chóng.</p><p class=my-4>Shard cũng có hai loại là primary và replica, mỗi một primary shard sẽ có một vài (có thể là không có) shard replica (mặc định là 1). Elasticsearch sẽ đảm bảo là primary shard và replica shard sẽ tồn tại trên các node khác nhau.</p><p class=my-4>Một đặc điểm rất quan trọng, đó là số lượng primary shard cho một index không thể thay đổi được sau khi index đã được tạo. Do đó, trong thực tế, chúng ta sẽ phải cân nhắc rất nhiều yếu tố để quyết định xem cần bao nhiêu primary shard cho mỗi index. Trừ khi bạn muốn tạo lại index và thêm dữ liệu vào từ đầu.</p><p class=my-4>Như đã nói trong bài viết trước, Elasticsearch hoạt động dựa trên Lucene của Apache. Vậy nó dựa trên như thế nào? Đây chính là lúc Lucene được sử dụng.</p><p class=my-4>Một shard thực chất là một Lucene index, đó mới là nơi thực sự lưu trữ dữ liệu, và bản thân shard cũng là một search engine. Là một Lucene index, nên một shard lại được tạo nên từ nhiều segment và mỗi segment là một inverted index với đầy đủ chức năng.</p><p class=my-4>Segment cho phép Lucene có thể thêm tài liệu vào index một cách dễ dàng mà không cần quá nhiều xử lý với index.</p><p class=my-4>Với mỗi yêu cầu tìm kiếm, mọi segment trong một index sẽ được sử dụng, và mỗi segment như vậy sẽ hoạt động một cách khá độc lập (điều này khiến nó sử dụng CPU và bộ nhớ). Điều đó có nghĩa là, nếu có quá nhiều segments, performance của thao tác tìm kiếm sẽ bị giảm đi, nhưng nếu ít segment quá thì lại không tận dụng hết được khả năng của máy chủ.</p><p class=my-4>Để xử lý vấn đề này, Lucene thực hiện một thao tác khá thông minh là "gộp" các segment nhỏ lại thành một segment lớn hơn. Tuy nhiên, điều này cũng có hai mặt: nếu thao tác gộp này được tiến hành không cẩn thận, Elasticsearch có thể rơi vào sai lầm là gộp tất cả segment vào làm một và bỏ phí rất nhiều tài nguyên (điều này cũng khiến performance giảm đi).</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=node-va-cluster><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#node-va-cluster title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Node và cluster</h3><p class=my-4>Node là cơ sở trong kiến trúc server của Elasticsearch, và nhiều node hợp với nhau tạo thành cluster.</p><p class=my-4><img alt="es
nodes" class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://codingexplained.com/wp-content/uploads/5-1024x949.png width=360></p><p class=my-4>Một node là một server Elasticsearch, về logic là các node chạy độc lập với nhau, thực tế nó có thể chạy trên một (thường với môi trường phát triển hoặc test) hoặc nhiều server vật lý (thường với môi trường production). Tập hợp các node hoạt động cùng với nhau tạo thành một cluster, mỗi node trong cluster chứa một phần dữ liệu của cluster đó (và đương nhiên, toàn bộ dữ liệu của một cluster sẽ được chia ra cho các node).</p><p class=my-4>Mỗi node sẽ tham gia vào quá trình index và tìm kiếm dữ liệu trong cluster. Tất nhiên là mỗi node chỉ chứ một phần dữ liệu của cluster và nó chỉ thực hiện tìm kiếm trên dữ liệu mà nó lưu trữ mà thôi. Như chúng ta đã biết, các truy vấn của người dùng đều thông qua HTTP request, và cluster sẽ chuyển những truy vấn đó cho các node của nó.</p><p class=my-4>Mỗi node khi nhận được truy vấn sẽ có trách nhiệm thực hiện công việc với dữ liệu của nó. Một điểm khá hay đó là các node trong cùng một cluster hiểu được các node khác và do đó, nó có thể chuyển tiếp truy vấn của người dùng cho một node khác. Việc chuyển tiếp này hoàn toàn được thực hiện nội bộ bên trong cluster và với người dùng, thì hầu như trong suốt.</p><p class=my-4>Node có 3 loại khác nhau: master, data và client. Một cluster sẽ tự động chọn ra một node làm master từ các node của nó. Node master sẽ có nhiệm vụ điều phối công việc của cluster, ví dụ như phân bố các shard, tạo/xoá các index, v.v... Chỉ có node master mới có khả năng cập nhật trạng thái của cluster.</p><p class=my-4>Tất nhiên là toàn bộ việc này Elasticsearch sẽ tự động thực hiện cho chúng ta. Về cơ bản không biết những chuyện này cũng không ảnh hưởng gì đến công việc. Nhưng tất nhiên, là một developer thì biết vẫn tốt hơn.</p><p class=my-4>Node data là node mà các shard được phân bố, có nhiệm vụ thực hiện các công việc như index tài liệu, tìm kiếm và thống kê. Node client hoạt động như một load balancer có nhiệm vụ định tuyến các truy vấn của người dùng như index hay tìm kiếm. Một cluster có thể không có node client.</p><p class=my-4>Cluster và node được định danh bởi tên (duy nhất). Mặc định, tên của cluster sẽ là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">elasticsearch</code> (tất cả đều viết thường), còn các node được gán tên là một UUID (Universally Unique Identifier). Nếu muốn thay đổi tên định danh này thì chúng ta cũng có thể làm được. Chỉ có một điều cần lưu ý, đó là tên của node rất quan trọng, vì nó còn liên quan đến việc xác định server vật lý (hoặc server ảo) tương ứng với node đó.</p><p class=my-4>Từ bài toán thực tế, tôi nghĩ rằng chúng ta nên thay đổi tên mặc định của cluster, và chỉ của cluster mà thôi. Vì đơn giản, nếu cứ theo mặc định, node sẽ được thêm và cluster <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">elasticsearch</code>. Có nghĩa là, khi chúng ta khởi tạo node mới, mọi node đó sẽ được thêm vào cluster mặc định.</p><p class=my-4>Thực tế thì việc này rất không tốt, có khả năng node sẽ được thêm vào cluster ngoài ý muốn nếu developer sử dụng nhiều kiểu môi trường khác nhau trong quá trình phát triển. Việc này cũng ít gây ra vấn đề quá lớn, nhưng nếu gặp bug thì quá trình tìm hiểu, điều tra có thể sẽ rất phức tạp, trong khi chúng ta chỉ cần bỏ thêm một chút công sức là có thể phòng tránh được.</p><p class=my-4>Tổng hợp lại, kiến trúc của Elasticsearch có thể hình dung như hình ảnh dưới đây:</p><p class=my-4><img alt="ES architect" class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://i1.wp.com/datadog-live.imgix.net/img/blog/monitor-elasticsearch-performance-metrics/elasticsearch-diagram1a.png width=360></p><p class=my-4>Một cluster, về mặt kỹ thuật là có bao nhiêu node cũng được, thậm chí chỉ có 1 node cũng không sao. Kiến trúc này của Elasticsearch giúp nó có khả năng mở rộng cực kỳ dễ dàng. Cụ thể, Elasticsearch cho phép chúng ta mở rộng theo chiều ngang một cách nhanh chóng mà không hề cần một sự thay đổi nào trong code.</p><p class=my-4>Thử so sánh với một hệ quản trị cơ sở dữ liệu như MySQL chẳng hạn, liệu chúng ta có thể dễ dàng chuyển từ 1 server thành 2 server mà không cần thay đổi code hay không?</p><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=luu-tru-du-lieu-va-tim-kiem><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#luu-tru-du-lieu-va-tim-kiem title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Lưu trữ dữ liệu và tìm kiếm</h2><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=storage-model><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#storage-model title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Storage Model</h3><p class=my-4>Elasticsearch sử dụng Lucene của Apache - một thử viên full text search viết bằng Java. Về bản chất, nó sử dụng một cấu trúc dữ liệu gọi là inverted index (chỉ mục đảo ngược) để có thể thực hiện tìm kiếm với hiệu suất cao.</p><p class=my-4>Tài liệu chính đơn vị cơ sở để quản lỹ dữ liệu trong Elasticsearch và inverted index được tạo ra bằng việc tokenize (thuật ngữ trong Elasticsearch) các khái niệm trong tài liệu. Bằng việc sử dụng kỹ thuật inverted index, một bảng chỉ mục các khái niệm và danh sách tài liệu liên quan đến khái niệm đó sẽ được tạo ra.</p><p class=my-4>Nó khá tương đồng với chỉ mục của một cuốn sách, nơi hiển thị một danh sách các khái niệm được sử dụng cùng với số trang mà nó xuất hiện. Trong Elasticsearhc, khi nói rằng một tài liệu được index, thì chúng ta hiểu rằng, inverted index của tài liệu đó đã được tạo ra.</p><p class=my-4>Ví dụ, khi chúng ta cần tìm từ khoá "Việt Nam", Elasticsearch sẽ thực hiện tìm kiếm trên inverted index (rất nhanh do các từ được sắp xếp), tìm được từ khoá "Việt Nam", sau đó trả về ID của các tài liệu tương ứng. Để có thể tìm kiếm nâng cao hơn (ví dụ, tìm với từ khoá "Viet Nam"), thì quá trình phân tích và index tài liệu là rất quan trọng.</p><p class=my-4>Ngoài ra, quá trình tìm kiếm thực tế còn phức tạp hơn nữa, khi mà Elasticsearch còn phải đánh giá mức độ tương qua giữa những từ trong index với từ khoá cần tìm.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=tim-kiem><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#tim-kiem title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Tìm kiếm</h3><p class=my-4>Quá trình tìm kiếm tài liệu sẽ diễn ra theo 2 giai đoạn:</p><p class=my-4><strong>Giai đoạn query</strong></p><p class=my-4>Đầu tiên, truy vấn tìm kiếm sẽ đến node điều phối, ở đây, truy vấn này sẽ được chuyển tiếp đến mọi shard (cả primary và replica) trong index. Mỗi shard sẽ thực hiện thao tác tìm kiếm tương ứng với truy vấn một cách độc lập và trả về ID của các tài liệu có độ tương quan cao nhất (mặc định sẽ là 10 tài liệu có điểm tương quan cao nhất được trả về).</p><p class=my-4>Các ID này được trả về cho node điều phối, ở đây, nó sẽ được gộp với kết quả của các shard khác và sắp xếp lại để tìm ra những tài liệu có độ tương quan cao nhất.</p><p class=my-4><strong>Gia đoạn fetch</strong></p><p class=my-4>Sau khi node điều phối gộp và sắp xếp lại kết quả nhận được từ các shard, nó sẽ thực hiện thao tác lấy thông tin của tài liệu đó. Các shard lại thực hiện công việc của mình và trả về tài liệu (toàn bộ tài liệu chứ không chỉ ID như giai đoạn trước) cho node điều phối.</p><p class=my-4>Sau khi quá trình lấy dữ liệu đã xong, kết quả sẽ được trả về cho client.</p><p class=my-4>Lưu ý rằng, để thực hiện tìm kiếm hiệu quả, mọi node trong cluster cần biết được trạng thái của cluster đó. Trạng thái của cluster sẽ bao gồm các thông tin như mỗi node có chứa index và shard nào. Nhờ đó, mọi node đều có thể trở thành node điều phối (và Elasticsearch sẽ thay đổi node điều phối trong trường hợp node được chọn không hoạt động).</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=o-tuong-quan><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#o-tuong-quan title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Độ tương quan</h3><p class=my-4>Độ tương quan được đánh giá bởi điểm mà Elasticsearch chấm cho từng tài liệu khi thực hiện thao tác tìm kiếm. Mặc định, thuật toán để đánh giá độ tương quan được sử dụng là thuật toán tf/idf (term frequency/inverse document frequency). Điểm tương quan cuối cùng chính là tổ hợp của điểm td-idf với một vài yếu tố đánh giá khác, như mức độ khớp của tài liệu với từ khoá.</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code># Tìm kiếm trên nhiều trường với các mức độ khác nhau
"query": {
    "function_score": {
        "query": {
            "multi_match": {
                "query": "Lambda Expressions",
                "fields": [
                    "title",
                    "tags^0.8",
                    "speakers.name^0.6",
                    "description^0.3"
                ]
            }
        },
        "functions": [
            {
                # Nội dung kỹ sẽ có độ quan trọng thấp hơn
                # dựa trên khoảng cách Gauss
                "gauss": {
                    "publishedOn": {
                        "scale": "130w",
                        "offset": "26w",
                        "decay": 0.3
                    }
                }
            }
        ]
    }
}
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=anh-gia-hieu-nang-tim-kiem><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#anh-gia-hieu-nang-tim-kiem title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Đánh giá hiệu năng tìm kiếm</h3><p class=my-4>Dựa trên quy trình thực hiện truy vấn tìm kiếm, chúng ta có thể dựa vào những thông số như sau để đánh giá hiệu năng của việc tìm kiếm, đồng thời cũng từ đó mà biết vấn đề nằm ở đâu (trong trường hợp việc tìm kiếm diễn ra lâu):</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code># <span class=nv>S</span>ố <span class=nv>truy</span> <span class=nv>v</span>ấ<span class=nv>n</span> đ<span class=nv>ang</span> <span class=nv>th</span>ự<span class=nv>c</span> <span class=nv>hi</span>ệ<span class=nv>n</span>
<span class=nv>indices</span>.<span class=nv>search</span>.<span class=nv>query_current</span>

# Độ <span class=nv>tr</span>ễ <span class=nv>c</span>ủ<span class=nv>a</span> <span class=nv>truy</span> <span class=nv>v</span>ấ<span class=nv>n</span>
<span class=nv>avg</span> <span class=o>=</span> <span class=nv>indices</span>.<span class=nv>search</span>.<span class=nv>query_time_in_millis</span> <span class=o>/</span> <span class=nv>indices</span>.<span class=nv>search</span>.<span class=nv>query_total</span>

# Độ <span class=nv>tr</span>ễ <span class=nv>khi</span> <span class=nv>fetch</span>
# <span class=nv>N</span>ế<span class=nv>u</span> đỗ <span class=nv>tr</span>ễ <span class=nv>cao</span>, <span class=nv>nguy</span>ê<span class=nv>n</span> <span class=nv>nh</span>â<span class=nv>n</span> <span class=nv>c</span>ó <span class=nv>th</span>ể <span class=k>do</span> ổ <span class=nv>c</span>ứ<span class=nv>ng</span>
# <span class=nv>ho</span>ặ<span class=nv>c</span> <span class=nv>c</span>ó <span class=nv>qu</span>á <span class=nv>nhi</span>ề<span class=nv>u</span> <span class=nv>truy</span> <span class=nv>v</span>ấ<span class=nv>n</span>
<span class=nv>avg</span> <span class=o>=</span> <span class=nv>indices</span>.<span class=nv>search</span>.<span class=nv>fetch_time_in_millis</span> <span class=o>/</span> <span class=nv>indices</span>.<span class=nv>search</span>.<span class=nv>fetch_total</span>
</code></pre></div><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=indexing><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#indexing title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Indexing</h3><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=tuy-bien-mapping><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#tuy-bien-mapping title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Tuỳ biến mapping</h4><p class=my-4>Các trường có kiểu dữ liệu là string thì thường sẽ chứa text (và tìm kiếm thường là full text search). Vì vậy, để tìm kiếm hiệu quả, giá trị của những trường này cần được phân tích trước khi index. Khi tìm kiếm theo kiểu full text search thì từ khoá cũng sẽ được phân tích trước khi tiền hành tìm kiếm.</p><p class=my-4>Vì vậy, với các trường string, hai giá trị cực kỳ quan trọng để có thể tìm kiếm chính xác là index và analyzer.</p><p class=my-4>Với index, có 3 lựa chọn cho chúng ta:</p><ul class="list-disc ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">analyzed</code>: phân tích text rồi sau đó index nó (dùng cho full text search).</li><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">not_analyzed</code>: index trường với toàn bộ giá trị của nó mà không phân tích gì (không thể full text search).</li><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">no</code>: không index, trường này sẽ không dùng để tìm kiếm.</li></ul><p class=my-4>Để phân tích một trường string, thì analyzer là rất quan trọng để làm điều này. Chúng ta cần cấu hình analyzer cho từng trường, và bộ phân tích này sẽ được sử dụng cho cả quá trình phân tích để index và phân tích từ khoá để tìm kiếm.</p><p class=my-4>Mặc định, Elasticsearch sử dụng standard analyzer, tuy nhiên bộ phân tích này thường kém hiệu quả với các ngôn ngữ không phải tiếng Anh. Ngoài standard analyzer, Elasticsearch còn tích hợp sẵn nhiều bộ phân tích khác nữa, như whitespace, simple và english. Tuy nhiên, chúng thường chỉ có tác dụng với tiếng Anh mà thôi.</p><p class=my-4>Với các ngôn ngữ khác, chúng ta cần sử dụng thêm plugin để có thể dùng các analyzer khác cho hiệu quả hơn trong quá trình tìm kiếm:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code>{
    "name": {
        "type": "string",
        "analyzer": "name_analyzer"
    },
    "name_analyzer": {
        "type": "custom",
        "char_filter": ["icu_normalizer"],
        "tokenizer": "name_tokenizer",
        "filter": ["kana_filter"]
    },
    "name_tokenizer": {
        "type": "nGram",
        "min_gram": 1,
        "max_gram": 1,
        "token_chars": ["letter", "digit", "punctuation", "symbol"]
    }
}
</code></pre></div><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=index-refresh><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#index-refresh title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Index Refresh</h4><p class=my-4>Khi có một truy vấn yêu cầu index một tài liệu, nội dung đó sẽ được thêm vào translog và được lưu tạo vào buffer trên bộ nhớ trong. Khi tiến hành index refresh (mặc định mỗi giây một lần), tiến trình refresh sẽ tạo segment ngay trên bộ nhớ trong từ buffer trước đó. Tới lúc này, tài liệu cần index đã có thể tìm kiếm được.</p><p class=my-4>Sau đó, buffer trên bộ nhớ trong sẽ bị xoá đi. Dần dần quá trình này sẽ tạo ra một tập các segment, rồi các segment lại được gộp lại với nhau thành segment lớn hơn để đảm bảo việc sử dụng các tài nguyên của máy chủ (CPU, bộ nhớ, v.v...) được tối ưu.</p><p class=my-4>Quá trình index refresh là một hoạt động rất tốn kém, do đó nó thường được đặt lịch chạy định kỳ chứ không phải được kích hoạt ngay sau khi index.</p><p class=my-4>Nếu chúng ta cần index một lượng lớn tài liệu và không có nhu cầu gấp trong việc tìm kiếm ngay các tài liệu đó, chúng ta có thể tìm cách tối ưu hiệu năng của quá trình index bằng cách kéo giãn khoảng thời gian mà index refresh được thực hiện.</p><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=index-flush><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#index-flush title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Index Flush</h4><p class=my-4>Các segment được ghi trên bộ nhớ trong qua index refresh như ở trên thực ra không an toàn (do ghi trên bộ nhớ trong nên nó không được đảm bảo sẽ được duy trì tốt). Nếu như node xảy ra lỗi nào đó, các segment này sẽ mất hết thông tin.</p><p class=my-4>Vì có translog nên chúng ta vẫn có thể khôi phục lại thông tin được. Log được ghi vào đĩa cứng 5 giây một lần (mặc định), hoặc sau khi các thao tác như index, xoá, cập nhật thành công.</p><p class=my-4>Tuy nhiên, sử dụng translog để khôi phục lại cũng gặp nhiều hạn chế, bởi translog cũng bị giới hạn dung lượng. Do đó, cứ mỗi 30 phút, hoặc khi translog vượt quá giới hạn về dung lượng (mặc định là 512MB), một quá trình gọi là flush sẽ được thực thi.</p><p class=my-4>Trong quá trình flush, mọi tài liệu được lưu ở buffer trên bộ nhớ trong sẽ được index và lưu vào các segment, và các segment đang ở trên bộ nhớ trong sẽ được ghi vào ổ cứng, đồng thời translog sẽ bị xoá.</p><p class=my-4>Dưới đây là các cấu hình của Elasticsearch liên quan đến index flush:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code># Đỗ trễ của index
# Giá trị càng cao, số tài liệu cần index càng nhiều
avg = index_time_in_millis/ index_total

# Giới hạn kích thước của translog, nếu vượt quá sẽ flush
# Tăng giá trị này lên, chúng ta có thể tăng throughput của index
index.translog.flush_threshold_size

# Sau bao nhiêu thao tác thành công sẽ flush
# Mặc định là không giới hạn
index.translog.flush_threshold_ops

# Thời gian chạy flush định kỳ, mặc định là 30 phút
index.translog.flush_threshold_period

# Thiết lập độ thường xuyên của việc kiểm tra flush cần hay không
# Mặc định là 5s, sẽ chọn giá trị ngẫu nhiên trong khoảng 5-10 giây
index.translog.interval
</code></pre></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=mot-so-van-e-hay-gap-voi-elasticsearch><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#mot-so-van-e-hay-gap-voi-elasticsearch title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Một số vấn đề hay gặp với Elasticsearch</h2><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=clusther-health><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#clusther-health title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Clusther health</h3><p class=my-4>Đây là một vấn đề rất quan trọng nhưng nhiều khi không được quan tâm đúng mức. Với các cluster, chúng ta có thể kiểm tra trạng thái hoạt động của nó (gọi là cluster health) bằng cách:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=n>GET</span><span class=w> </span><span class=n>_cluster</span><span class=o>/</span><span class=n>health</span><span class=o>?</span><span class=n>pretty</span><span class=w></span>
<span class=p>{</span><span class=w></span>
<span class=w>   </span><span class=s>"task_max_waiting_in_queue_millis"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>0</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"number_of_pending_tasks"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>0</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"number_of_data_nodes"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>1</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"unassigned_shards"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>190</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"status"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>"yellow"</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"cluster_name"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=s>"elasticsearch"</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"active_shards"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>193</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"initializing_shards"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>0</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"timed_out"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=n>false</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"delayed_unassigned_shards"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>0</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"active_shards_percent_as_number"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mf>50.3916449086162</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"active_primary_shards"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>193</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"number_of_in_flight_fetch"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>0</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"relocating_shards"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>0</span><span class=p>,</span><span class=w></span>
<span class=w>   </span><span class=s>"number_of_nodes"</span><span class=w> </span><span class=o>:</span><span class=w> </span><span class=mh>1</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div><p class=my-4>Kết quả trả về ở trên, chúng ta có thể dựa vào <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">status</code> để biết tình trạng hiện tại của cluster. Nó có thể là một trong 3 giá trị:</p><ul class="list-disc ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">green</code>: Tất cả hoạt động bình thường.</li><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">yellow</code>: Tất cả primary shard đã hoạt động, vẫn còn replica shard chưa hoạt động.</li><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">red</code>: Có primary shard chưa hoạt động.</li></ul><p class=my-4>Đây là thông số rất quan trọng, liên quan trực tiếp nên hiệu năng của Elasticsearch. Trạng thái <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">red</code> thường khó gặp trong thực tế, nhưng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">yellow</code> thì rất nhiều.</p><p class=my-4>Tại sao lại có replica shard chưa hoạt động?</p><p class=my-4>Tìm hiểu một thời gian thì tôi cũng hiểu ra, mặc định của Elasticsearch là mỗi index sẽ có 5 primary shard, và mỗi primary shard lại có 1 relica shard. Và Elasticsearch sẽ sắp xếp sao cho primary và replica shard không nằm trên cùng một node.</p><p class=my-4>Vấn đề là, chúng ta thường (nhất là trong môi trường phát triển) chỉ sử dụng Elasticsearch với 1 node duy nhất. Do đó, node chỉ có thể chứa primary shard, còn replica shard thì không biết đặt ở đâu.</p><p class=my-4>Cách giải quyết thì rất đơn giản, thêm node cho Elasticsearch là xong. Lưu ý rằng, việc thêm node nhưng node này lại nằm trên các server vật lý khác nhau thì cần thêm một chút cầu hình nữa.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=qua-nhieu-tai-lieu><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#qua-nhieu-tai-lieu title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Quá nhiều tài liệu</h3><p class=my-4>Việc tìm kiếm của Elasticsearch được phân trang, thông qua hai giá trị <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">from</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">size</code>. Việc phân trang này diễn ra rất phổ biến, trên hầu hết các ứng dụng và thậm chí, trên giao diện, người dùng có thể dễ dàng nhảy từ trang này sang trang khác.</p><p class=my-4>Nhưng, Elasticsearch có những vấn đề của riêng nó liên quan đến phân trang, khi mà người dùng nhảy đến những trang quá lớn, nhất là trang cuối cùng.</p><p class=my-4>Với Elasticsearch, nó sẽ phải thực hiện tính toán, đánh giá độ tương quan cho từng trang. Ví dụ, bạn cần truy cập trang thứ 20, thì Elasticsearch sẽ phải tính toán và thực hiện tìm kiếm trên tất cả các trang từ 1-20. Trong trường hợp thì sẽ là thực hiện tính toán trên <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">20 * 20 * 5 = 2000</code> bản ghi (nếu phân trang là 20 bản ghi mỗi trang).</p><p class=my-4>Số trang càng lớn, mức độ tính toán càng nhiều. Do đó, trên thực tế, chúng ta sẽ phải tìm cách giải quyết vấn đề này, dù tỉ lệ người dùng tìm đến các trang sâu như vậy là không nhiều.</p><p class=my-4>Một trong số những cách có thể áp dụng đó là sử dụng <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-scroll.html rel="noopener noreferrer" target=_blank>scroll</a> thay cho truy vấn search thông thường.</p></div><div class="mt-8 text-sm leading-relaxed"><svg xmlns=http://www.w3.org/2000/svg class="h-4 w-4 inline" fill=none viewbox="0 0 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/></svg><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #Elasticsearch </span><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #Search engine </span><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #search </span></div></div><div class="flex justify-between items-center my-10 text-sm"><div class="flex-grow text-left"><a href=/2019/08/19/javascript-modules.html class="p-2 text-white bg-crimson"><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg> Bài viết sau </a></div><div class="flex-grow text-right"><a href=/2019/05/20/elasticsearch-gioi-thieu.html class="p-2 text-white bg-crimson"> Bài viết trước <svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg></a></div></div><div class="mb-8 p-8 text-justify bg-white shadow-lg dark:bg-gray-800 dark:text-gray-300"><p class="mb-2 italic leading-relaxed"> Tôi xin lỗi nếu bài viết có bất kỳ typo nào. Nếu bạn nhận thấy điều gì bất thường, xin hãy cho tôi biết. </p><p class="mb-8 leading-relaxed"> Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer">tạo discussion</a> hoặc <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer">report issue</a> trên Github. </p><div class="flex justify-between mb-4 text-gray-900 dark:text-gray-100"><a href=https://twitter.com/_naa_4f target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Twitter</title><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/></svg></a><a href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg></a><a href=https://www.facebook.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg></a><a href=https://github.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=none viewbox="0 0 24 24" stroke=currentColor><title>Discussion</title><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg></a></div></div></div><div class="md:col-span-2 flex-shrink-0 p-6 bg-white text-sm leading-relaxed shadow-entry dark:bg-gray-800"><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Welcome </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><img width=262 height=262 src=/meow.webp alt=manhhomienbienthuy class="w-3/4 h-auto mx-auto mb-4 rounded-full"><p class="mb-10 text-justify">Xin chào. Tôi là manhhomienbienthuy, nickname khác là naa. Đây là thế giới của tôi, chào mừng đến với thế giới của tôi…</p><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Bài viết liên quan </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="mb-10 divide-y"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow" href=/2019/05/20/elasticsearch-gioi-thieu.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Elasticsearch: Giới thiệu" src=https://i.imgur.com/JT4y7Qfs.jpg></a><a href=/2019/05/20/elasticsearch-gioi-thieu.html> Elasticsearch: Giới thiệu </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Bài viết mới </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="divide-y mb-10"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/05/06/postgresql-vs-mysql.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="PostgreSQL vs MySQL" src=https://i.imgur.com/5d93N7Fs.png></a><a href=/2022/05/06/postgresql-vs-mysql.html> PostgreSQL vs MySQL </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/04/11/nodejs-blocking-non-blocking-io.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="NodeJS: Blocking & Non-blocking I/O" src=https://i.imgur.com/9ql6xWws.png></a><a href=/2022/04/11/nodejs-blocking-non-blocking-io.html> NodeJS: Blocking & Non-blocking I/O </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/04/01/hieu-hon-javascript-object-prototype-va-class.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Hiểu hơn JavaScript: Object, Prototype và Class" src=https://i.imgur.com/0OW5FHzs.png></a><a href=/2022/04/01/hieu-hon-javascript-object-prototype-va-class.html> Hiểu hơn JavaScript: Object, Prototype và Class </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/03/16/dung-dung-last-n-versions-voi-browserslist.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Đừng dùng last n versions với browserslist" src=https://i.imgur.com/WyMHkO5s.jpg></a><a href=/2022/03/16/dung-dung-last-n-versions-voi-browserslist.html> Đừng dùng last n versions với browserslist </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/03/01/so-sanh-nho-typescript-vs-javascript.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="So sánh nhỏ: TypeScript vs JavaScript" src=https://i.imgur.com/UNFe3Hxs.jpg></a><a href=/2022/03/01/so-sanh-nho-typescript-vs-javascript.html> So sánh nhỏ: TypeScript vs JavaScript </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Chuyên mục </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="flex flex-wrap gap-2 mb-10 text-xs dark:border-gray-100"><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/cuoc-song.html> Cuộc sống </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/du-lich.html> Du lịch </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/lap-trinh.html> Lập trình </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/tong-hop.html> Tổng hợp </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Lưu trữ theo năm </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="flex flex-wrap gap-[0.57rem] mb-10 text-xs"><a href=/2022/ class="py-1 w-10 text-white text-center bg-crimson"> 2022 </a><a href=/2021/ class="py-1 w-10 text-white text-center bg-crimson"> 2021 </a><a href=/2020/ class="py-1 w-10 text-white text-center bg-crimson"> 2020 </a><a href=/2019/ class="py-1 w-10 text-white text-center bg-crimson"> 2019 </a><a href=/2018/ class="py-1 w-10 text-white text-center bg-crimson"> 2018 </a><a href=/2017/ class="py-1 w-10 text-white text-center bg-crimson"> 2017 </a><a href=/2016/ class="py-1 w-10 text-white text-center bg-crimson"> 2016 </a><a href=/2015/ class="py-1 w-10 text-white text-center bg-crimson"> 2015 </a><a href=/2014/ class="py-1 w-10 text-white text-center bg-crimson"> 2014 </a><a href=/2013/ class="py-1 w-10 text-white text-center bg-crimson"> 2013 </a><a href=/2012/ class="py-1 w-10 text-white text-center bg-crimson"> 2012 </a><a href=/2011/ class="py-1 w-10 text-white text-center bg-crimson"> 2011 </a><a href=/2010/ class="py-1 w-10 text-white text-center bg-crimson"> 2010 </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Câu nói yêu thích </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><p class=text-justify><q>There's a big difference between knowing the name of something and knowing something.</q></p><p class="mt-2 mb-8 text-right text-indigo-500">– Richard P. Feynman –</p><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Thông tin liên hệ </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><p class="mb-8 text-justify"> Cảm ơn bạn đã quan tâm blog của tôi. Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer">tạo discussion</a> hoặc <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer">report issue</a> trên Github. </p><div class="flex justify-between mb-8 text-gray-900 dark:text-gray-100"><a href=https://twitter.com/_naa_4f target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Twitter</title><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/></svg></a><a href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg></a><a href=https://www.facebook.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg></a><a href=https://github.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=none viewbox="0 0 24 24" stroke=currentColor><title>Discussion</title><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg></a></div></div></div><a href=# class="jsBackToTop fixed z-50 bottom-4 right-4 block hidden w-10 h-10 text-white bg-crimson rounded-full"><svg xmlns=http://www.w3.org/2000/svg class="h-10 w-10" fill=none viewbox="0 0 24 24" stroke=currentColor><title>Back to Top</title><path stroke-linecap=round stroke-linejoin=round stroke-width=4 d="M7 11l5-5m0 0l5 5m-5-5v12"/></svg></a></main><footer class="mt-8 text-white"><div class=bg-gray-800><div class="grid grid-cols-1 md:grid-cols-3 md:gap-8 max-w-screen-xl mx-auto px-4 leading-loose text-justify"><div class=py-8><a href=/ title="Blog | manhhomienbienthuy"><svg width=1000 height=165 version=1.0 viewbox="0 0 1000 165" fill=currentColor class="w-full h-auto text-white" xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg></a><div class="flex items-center mb-4 gap-4"><img width=56 height=56 class="h-16 w-16 rounded-full" src=/meow.webp alt=manhhomienbienthuy><p> manhhomienbienthuy<br> salaried coder </p></div></div><div class=py-8><p class=mb-4> Trang web này được viết bằng tất cả ♥ và tinh thần của tôi, dành tặng cho tình yêu của tôi, yunachan. </p><p class=mb-4> Trang web được lưu trữ trên <a class=font-bold href=https://manhhomienbienthuy.github.io>GitHub Pages</a>, hình ảnh được lưu trữ trên các trang <a class=font-bold href=https://manhhomienbienthuy.imgur.com/ target=_blank rel="noopener noreferrer">imgur</a>, <a class=font-bold href=https://instagram.com/manhhomienbienthuy/ target=_blank rel="noopener noreferrer">Instagram</a> và <a class=font-bold href=https://photos.google.com/ target=_blank rel="noopener noreferrer">Google Photos</a>. </p><p class=mb-4> Nội dung trang web này được cấp phép theo giấy phép <a class=font-bold href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank rel="noopener noreferrer">CC BY-NC-ND 4.0</a>. </p><p> Cập nhật lần cuối lúc <a class=font-bold target=_blank rel="noopener noreferrer" href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=20220523T094453&p1=248">2022-05-23 09:44:53 (JST)</a> (rev: <code>30eea8c</code>). </p></div><div class=py-8><p class=mb-4> HTML được build bởi <a class=font-bold href=http://blog.getpelican.com/ target=_blank rel="noopener noreferrer">Pelican</a>, tự động hóa bằng <a class=font-bold target=_blank rel="noopener noreferrer" href=https://github.com/features/actions>GitHub Actions</a>, có sử dụng <a class=font-bold target=_blank href=https://python-markdown.github.io/ rel="noopener noreferrer">Python-Markdown</a>, <a class=font-bold target=_blank href=https://pygments.org/ rel="noopener noreferrer">Pygments</a> và nhiều công cụ khác. </p><p class=mb-4> Giao diện được làm dựa trên <a class=font-bold href=https://vanice-veethemes.blogspot.com/ target=_blank rel="noopener noreferrer">Vanice theme</a> với sự hỗ trợ của <a class=font-bold href=https://tailwindcss.com/ target=_blank rel="noopener noreferrer">Tailwind CSS</a> và <a class=font-bold target=_blank href=https://lisperator.net/uglifyjs/ rel="noopener noreferrer">UglifyJS</a>. Trang báo lỗi (404) được làm dựa trên <a href=https://github.com/mdjamal/tailwindcss-rails-custom-error-page-templates class=font-bold target=_blank rel="noopener noreferrer">chia sẻ này</a>. </p><p> Icon sử dụng kết hợp giữa <a class=font-bold href=https://heroicons.com/ target=_blank rel="noopener noreferrer">Heroicons</a> và <a class=font-bold href=https://icons.getbootstrap.com/ target=_blank rel="noopener noreferrer">Bootstrap Icons</a>. </p></div></div></div><div class=bg-gray-900><div class="flex flex-wrap justify-between max-w-screen-xl mx-auto px-4"><div class="pt-4 md:py-4"> Copyright © 2010–2022 <a href=/pages/gioi-thieu.html class=font-bold> manhhomienbienthuy </a></div><div class="flex-grow py-4 text-right divide-x divide-solid"><span class=px-2><a href=/ >Trang chủ</a></span><span class=px-2><a href=/pages/gioi-thieu.html>Giới thiệu</a></span><span class=pl-2><a href=#>Lên đầu trang ↑</a></span></div></div></div></footer><script defer src=/theme/js/app.min.js></script></body></html>