<!DOCTYPE html><html lang=vi class="html-padding antialiased"><head><meta charset=utf-8><title>Sử dụng Docker (và Docker Compose) cho dự án Django | Blog | manhhomienbienthuy</title><meta name=viewport content="width=device-width, initial-scale=1"><link rel=apple-touch-icon href=/icon-touch.png><link rel=icon sizes=192x192 href=/icon-touch.png><link rel="shortcut icon" href=/favicon.ico><link rel=canonical href=https://manhhomienbienthuy.github.io/2016/04/10/su-dung-docker-va-docker-compose-cho-du-an-django.html><meta name=msapplication-TileImage content=/icon-tile.png><meta name=twitter:dnt content=on><meta name=Author content=manhhomienbienthuy><meta name=rating content=general><meta name=twitter:card content=product><meta name=twitter:site content=@_naa_4f><meta name=twitter:creator content=@_naa_4f><link type=application/rss+xml rel=alternate title="Blog | manhhomienbienthuy Full RSS Feed" href=https://manhhomienbienthuy.github.io/feeds/rss.xml><meta name=description content="Xin chào. Tôi là manhhomienbienthuy, nickname khác là naa. Đây là thế giới của tôi, chào mừng đến với thế giới của tôi… Gần đây, khái niệm ảo hóa sử dụng container được nhắc đến khá nhiều. Và Docker cũng đang nổi lên như một hiện tượng và được rất nhiều người sử dụng. Trong bài viết này, tôi sẽ đi vào tìm hiểu và thực hành sử dụng Docker cho dự án […]"><meta name=keywords content="Python, Django, Docker, Docker Compose, DevOps, virtualisation, blog, naa, manhhomienbienthuy, personal blog"><meta name=twitter:title content="Sử dụng Docker (và Docker Compose) cho dự án Django | Blog | manhhomienbienthuy"><meta name=twitter:description content="Xin chào. Tôi là manhhomienbienthuy, nickname khác là naa. Đây là thế giới của tôi, chào mừng đến với thế giới của tôi… Gần đây, khái niệm ảo hóa sử dụng container được nhắc đến khá nhiều. Và Docker cũng đang nổi lên như một hiện tượng và được rất nhiều người sử dụng. Trong bài viết này, tôi sẽ đi vào tìm hiểu và thực hành sử dụng Docker cho dự án […]"><meta name=twitter:image content=/https://i.imgur.com/LOdBGj3.png><link rel=stylesheet href=/theme/css/app.min.css><script>try{"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}catch{}</script></head><body class="text-gray-500 bg-gray-100 dark:bg-gray-700 dark:text-gray-300"><header class=mb-8><div class="fixed z-50 top-0 left-0 right-0 text-white bg-gray-900"><div class="relative flex flex-wrap justify-between items-center gap-x-4 max-w-screen-xl mx-auto px-4"><a href=/ class="my-2.5 rounded-full"><img width=20 height=20 class="h-5 w-5 rounded-full" src=/meow.webp alt=manhhomienbienthuy></a><div class="flex-grow flex items-center gap-x-0.5 md:hidden text-xs"><svg xmlns=http://www.w3.org/2000/svg class="jsMenuToggle h-5 w-5 cursor-pointer" fill=none viewbox="0 0 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"/></svg><span class="jsMenuToggle uppercase cursor-pointer">Menu</span></div><nav class="jsMenus hidden md:block flex-grow order-last md:order-none w-full md:w-auto text-xs uppercase bg-gray-900 divide-y md:divide-y-0"><a href=/ class="block md:inline p-4"> Trang chủ </a><a class="block md:inline p-4" href=/category/cuoc-song.html> Cuộc sống </a><a class="block md:inline p-4" href=/category/du-lich.html> Du lịch </a><a class="block md:inline p-4" href=/category/lap-trinh.html> Lập trình </a><a class="block md:inline p-4" href=/category/tong-hop.html> Tổng hợp </a></nav><div class="flex justify-between gap-x-3 items-center"><a href=https://twitter.com/_naa_4f target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>Twitter</title><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/></svg></a><a href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg></a><a href=https://www.facebook.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg></a><a href=https://github.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a><a href=/feeds/rss.xml target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-3 w-3" fill=currentColor viewbox="0 0 16 16"><title>RSS Feed</title><path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/><path d="M5.5 12a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-3-8.5a1 1 0 0 1 1-1c5.523 0 10 4.477 10 10a1 1 0 1 1-2 0 8 8 0 0 0-8-8 1 1 0 0 1-1-1zm0 4a1 1 0 0 1 1-1 6 6 0 0 1 6 6 1 1 0 1 1-2 0 4 4 0 0 0-4-4 1 1 0 0 1-1-1z"/></svg></a><div class="flex items-center pl-2 border-l border-gray-800 text-gray-400 dark:text-gray-500"><button type=button id=jsThemeToggle><span class=dark:hidden><svg viewbox="0 0 24 24" fill=none stroke-width=2 stroke-linecap=round stroke-linejoin=round stroke=currentColor class="w-5 h-5"><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg></span><span class="hidden dark:inline"><svg viewbox="0 0 24 24" fill=currentColor class="w-5 h-5"><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path fill-rule=evenodd clip-rule=evenodd d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z"/></svg></span></button></div></div></div><ul class="jsThemeMenus hidden absolute z-50 top-full right-2 w-36 mt-2 py-1 text-sm font-semibold bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-500 rounded-lg shadow-lg overflow-hidden"><li class="py-1 px-2 flex items-center cursor-pointer" id=jsThemeLight><svg viewbox="0 0 24 24" fill=none stroke-width=2 stroke-linecap=round stroke-linejoin=round stroke=currentColor class="w-6 h-6 mr-2"><path d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/><path d="M12 4v1M17.66 6.344l-.828.828M20.005 12.004h-1M17.66 17.664l-.828-.828M12 20.01V19M6.34 17.664l.835-.836M3.995 12.004h1.01M6 6l.835.836"/></svg> Light </li><li class="py-1 px-2 flex items-center cursor-pointer" id=jsThemeDark><svg viewbox="0 0 24 24" fill=currentColor class="w-6 h-6 mr-2"><path d="m17.715 15.15.95.316a1 1 0 0 0-1.445-1.185l.495.869ZM9 6.035l.846.534a1 1 0 0 0-1.14-1.49L9 6.035Zm8.221 8.246a5.47 5.47 0 0 1-2.72.718v2a7.47 7.47 0 0 0 3.71-.98l-.99-1.738Zm-2.72.718A5.5 5.5 0 0 1 9 9.5H7a7.5 7.5 0 0 0 7.5 7.5v-2ZM9 9.5c0-1.079.31-2.082.845-2.93L8.153 5.5A7.47 7.47 0 0 0 7 9.5h2Zm-4 3.368C5 10.089 6.815 7.75 9.292 6.99L8.706 5.08C5.397 6.094 3 9.201 3 12.867h2Zm6.042 6.136C7.718 19.003 5 16.268 5 12.867H3c0 4.48 3.588 8.136 8.042 8.136v-2Zm5.725-4.17c-.81 2.433-3.074 4.17-5.725 4.17v2c3.552 0 6.553-2.327 7.622-5.537l-1.897-.632Z"/><path fill-rule=evenodd clip-rule=evenodd d="M17 3a1 1 0 0 1 1 1 2 2 0 0 0 2 2 1 1 0 1 1 0 2 2 2 0 0 0-2 2 1 1 0 1 1-2 0 2 2 0 0 0-2-2 1 1 0 1 1 0-2 2 2 0 0 0 2-2 1 1 0 0 1 1-1Z"/></svg> Dark </li><li class="py-1 px-2 flex items-center cursor-pointer text-sky-500" id=jsThemeSystem><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6 mr-2 text-gray-400 dark:text-gray-500" fill=none viewbox="0 0 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap=round stroke-linejoin=round d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg> System </li></ul></div><div class="pt-10 md:pt-12 bg-white shadow dark:bg-gray-800 dark:text-gray-100"><div class="max-w-screen-xl mx-auto px-6 py-4"><a href=/ title="Blog | manhhomienbienthuy"><svg width=1000 height=165 version=1.0 viewbox="0 0 1000 165" fill=currentColor class="max-w-full max-h-24 w-auto h-auto mx-auto text-gray-900 dark:text-gray-100" xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg></a></div></div></header><main><div class="grid grid-cols-1 md:grid-cols-7 items-start gap-6 max-w-screen-xl mx-auto px-6"><div class=md:col-span-5><div class="bg-white p-8 shadow-lg dark:bg-gray-800"><h1 class="mb-4 text-3xl leading-relaxed font-bold text-gray-900 uppercase dark:text-gray-100"> Sử dụng Docker (và Docker Compose) cho dự án Django </h1><img width=360 height=270 class="w-full h-auto mb-4" src=https://i.imgur.com/LOdBGj3.png alt="Sử dụng Docker (và Docker Compose) cho dự án Django"><div class="flex flex-wrap gap-x-4 mb-10 py-2 text-sm leading-relaxed text-gray-400 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100"><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/></svg><a href=/category/tong-hop.html> Tổng hợp </a></div><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><a href=/2016> 2016-04-10 </a></div><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"/></svg><a href=/pages/gioi-thieu.html> manhhomienbienthuy </a></div><div><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor stroke-width=2><path stroke-linecap=round stroke-linejoin=round d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg> 2022-03-29 09:16:11 (JST) </div></div><div class="md:text-lg leading-loose md:leading-loose text-justify"><p class=my-4>Gần đây, khái niệm ảo hóa sử dụng container được nhắc đến khá nhiều. Và Docker cũng đang nổi lên như một hiện tượng và được rất nhiều người sử dụng. Trong bài viết này, tôi sẽ đi vào tìm hiểu và thực hành sử dụng Docker cho dự án Django xem sao.</p><div class="p-2 text-xs leading-relaxed bg-gray-100 whitespace-nowrap overflow-auto dark:bg-gray-900"><span class="font-semibold text-sm text-gray-900 mb-4 dark:text-gray-100">Mục lục</span><ul><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#tai-sao-lai-dung-docker>Tại sao lại dùng Docker</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#cai-at>Cài đặt</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#su-dung-docker-e-phat-trien-django>Sử dụng docker để phát triển Django</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#nhung-gi-chung-ta-can-khi-dung-docker>Những gì chúng ta cần khi dùng Docker</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#build-tat-ca-trong-mot>Build tất cả trong một</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#cau-hinh-container>Cấu hình container</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#ong-goi-container>Đóng gói container</a></li></ul></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#su-dung-docker-compose-cau-hinh-moi-truong-dev>Sử dụng Docker Compose cấu hình môi trường dev</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#su-dung-docker-compose-cau-hinh-moi-truong-production>Sử dụng Docker Compose cấu hình môi trường production</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#cau-hinh-container-nginx>Cấu hình container nginx</a></li></ul></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#chay-bash-ben-trong-container>Chạy bash bên trong container</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#update>Update</a><ul class=ml-5><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#security>Security</a></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#su-dung-uwsgi_params>Sử dụng uwsgi_params</a></li></ul></li></ul></li><li><a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=#ket-luan>Kết luận</a></li></ul></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=tai-sao-lai-dung-docker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#tai-sao-lai-dung-docker title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Tại sao lại dùng Docker</h2><p class=my-4>Nói chung tôi là người đơn giản. Tôi thấy Docker được nhiều người dùng quá. Mà nhiều người dùng thì chắc là tốt người ta mới dùng. Mà thứ tốt như vậy thì mình cũng nên dùng cho hợp vào trào lưu, kẻo lại bị lạc hậu so với người ta. Lý do chính đến với Docker của tôi đơn giản thế thôi.</p><p class=my-4>Ngoài ra, lý do phụ là tôi cũng đang có nhu cầu chạy Web trên một môi trường biệt lập với hệ thống. Đương nhiên, nếu không nhu cầu chạy máy ảo hay môi trường biệt lập gì thì bạn cũng chẳng cần nghĩ đến Docker làm gì cho mệt.</p><p class=my-4>Docker đã được quảng cáo rất nhiều. Bạn có thể đọc một số bài giới thiệu về Docker hoặc tham khảo thêm ở <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://www.docker.com/ rel="noopener noreferrer" target=_blank>trang chủ của Docker</a>. Tuy nhiên, tôi thấy phần lớn các bài viết mới chỉ là lý thuyết chung chung. Mà lý thuyết cần phải gắn liền với thực tiễn. Và bài viết này chính là phần "thực tiễn" đó.</p><p class=my-4>Nói ngắn gọn là chúng ta bắt tay vào thực hành luôn cho nóng. Ở đây, tôi sẽ sử dụng Docker để chạy ứng dụng Web viết bằng Django. Về cơ bản, các framework khác cũng sẽ tương tự như vậy.</p><blockquote class="my-4 py-1 px-4 text-gray-400 bg-gray-100 border-l-4 border-gray-300 dark:border-gray-600 dark:bg-gray-900 dark:text-gray-300"><p class="my-4 mt-2 mb-2">Trong bài viết này, tôi giả sử bạn đã có một project Django có sẵn trên máy. Nếu chưa có, bạn có thể xem qua <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.djangoproject.com/en/1.9/intro/ rel="noopener noreferrer" target=_blank>tutorial của Django</a> và tạo ra một project như vậy. Chúng ta sẽ tìm hiểu cách cấu hình Docker trên project có sẵn đó.</p></blockquote><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=cai-at><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#cai-at title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Cài đặt</h2><p class=my-4>Việc cài đặt Docker lên các hệ điều hành khác nhau, bạn có thể tham khảo <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/engine/installation/ rel="noopener noreferrer" target=_blank>ở đây</a>. Đây không phải là nội dung chính của bài viết này nên tôi sẽ không đi vào chi tiết.</p><p class=my-4>Tôi sử dụng Ubuntu 14.04 nên quá trình cài đặt trên máy của tôi có thể tóm tắt như sau:</p><p class=my-4>Update <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">apt</code> chuẩn bị cho quá trình cài đặt.</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo apt-get update
<span class=gp>$ </span>sudo apt-get install apt-transport-https ca-certificates
<span class=gp>$ </span>sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 <span class=se>\</span>
--recv-keys 58118E89F3A912897C070ADBF76221572C52609D
</code></pre></div><p class=my-4>Sửa file <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/etc/apt/source.list.d/docker.list</code> với nội dung như sau.</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=k>deb</span><span class=w> </span><span class=s>https://apt.dockerproject.org/repo</span><span class=w> </span><span class=kp>ubuntu-trusty</span><span class=w> </span><span class=kp>main</span><span class=w></span>
</code></pre></div><p class=my-4>Update danh sách package và xóa các phiên bản cũ</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo apt-get update
<span class=gp>$ </span>sudo apt-get purge lxc-docker
</code></pre></div><p class=my-4>Cài đặt Docker</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo apt-get install docker-engine
</code></pre></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=su-dung-docker-e-phat-trien-django><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#su-dung-docker-e-phat-trien-django title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Sử dụng docker để phát triển Django</h2><p class=my-4>Thông thường, khi phát triển ứng dụng <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://www.djangoproject.com/ rel="noopener noreferrer" target=_blank>Django</a> nói riêng và các ứng dụng Python nói chung, chúng ta thường sử dụng môi trường ảo của Python (<a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://pypi.python.org/pypi/virtualenv rel="noopener noreferrer" target=_blank>virtualenv</a> hoặc <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.python.org/3/library/venv.html rel="noopener noreferrer" target=_blank>venv</a>). Mục đích của việc này là muốn tạo ra một môi trường biệt lập cho ứng dụng. Tách biệt nó khỏi phần còn lại của hệ thống, nhằm đảm bảo, việc phát triển ứng dụng của chúng ta không ảnh hưởng gì đến hệ thống cả.</p><p class=my-4>Tuy nhiên, các ứng dụng Web sử dụng Django hay bất kỳ framework nào khác, việc sử dụng môi trường ảo cho riêng Python là vẫn chưa đủ. Bởi vì ngoài các package Python cần thiết, còn rất nhiều thành phần khác nữa, ví dụ như cơ sở dữ liệu (PostgreSQL, MySQL, ...), cache (memcached, Redis, ...), v.v... Ngoài ra, nhiều khi chúng ta muốn cấu hình môi trường production để chạy thử trước khi chính thức vận hành ứng dụng, mà chưa có điều kiện hay nhu cầu thuê một server thật, chúng ta cần những giải pháp khác.</p><p class=my-4>Và giải pháp thông thường là sử dụng máy ảo. Chúng ta có thể sử dụng những chương trình như <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://www.virtualbox.org/ rel="noopener noreferrer" target=_blank>VirtualBox</a> hay <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=http://www.vmware.com/ rel="noopener noreferrer" target=_blank>VMWare</a> và cài đặt trên máy cá nhân một máy ảo Linux càng giống server càng tốt. Và chúng ta cũng sẽ đăng nhập vào đó, lấy code về cài đặt và cấu hình mọi thứ để trang Web của chúng ta chạy được.</p><p class=my-4>Vấn đề ở đây là, một máy ảo như vậy sẽ chiếm kha khá tài nguyên của hệ thống. Và với một máy tính cá nhân, thì nhiều khi chạy được máy ảo xong thì máy thật cũng không làm gì khác được. Ngoài ra, trong quá trình phát triển, mỗi khi chúng ta muốn cập nhật code mới, thì chúng ta phải làm một công việc khá lòng vòng đó là push code, sau đó login vào máy ảo và pull code về.</p><p class=my-4>Có một giải pháp khác là <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://www.vagrantup.com/ rel="noopener noreferrer" target=_blank>Vagrant</a> có thể giải quyết vấn đề update code trên máy ảo này. Nó có một cơ chế khá hay là cho phép đồng bộ hệ thống file và thư mục của dự án vào trong máy ảo nên code sẽ được cập nhật gần như ngay lập tức. Tuy nhiên, Vagrant cũng sử dụng dịch vụ bên thứ 3 như VirtualBox để chạy một máy ảo nên vấn đề tiêu tốn tài nguyên hệ thống vẫn chưa được giải quyết.</p><p class=my-4>Gần đây, Docker nổi lên và được cho là có thể giải quyết cả hai vấn đề trên. Nếu thực sự như vậy thì chúng ta có thể yên tâm sử dụng Docker trong công việc của mình rồi. Chúng ta sẽ thử dùng Docker xem nó có thể làm được những gì.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=nhung-gi-chung-ta-can-khi-dung-docker><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#nhung-gi-chung-ta-can-khi-dung-docker title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Những gì chúng ta cần khi dùng Docker</h3><p class=my-4>Chúng ta có thể tóm tắt lại những yêu cầu khi ảo hóa như sau:</p><ul class="list-disc ml-5"><li>Mã nguồn được biên tập ở máy thật và chạy ở máy ảo</li><li>Việc cập nhật mã nguồn phải gần như ngay lập tức. Tức là mọi thay đổi mã nguồn ở máy thật phải xuất hiện trên máy ảo.</li><li>Trang Web đang chạy phải có thể xem được từ bên ngoài.</li></ul><p class=my-4>Docker cần phải giải quyết được 3 vấn đề trên trước đã, sau đó chúng ta mới xem xét đến vấn đề tài nguyên hệ thống.</p><p class=my-4>Yêu cầu thứ 3 khá đơn giản, có thể dễ dàng thực hiện bằng port forward. Yêu cầu biên tập và chạy mã nguồn ở hai nơi khác nhau cũng có thể giải quyết được. Chúng ta sẽ mount file và thư mục dự án vào trong container, và chúng ta có thể biên tập ở máy thật và chạy từ container.</p><p class=my-4>Có nhiều cách cấu hình các container khác nhau. Chúng ta sẽ dần dần tìm hiểu từng cách một.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=build-tat-ca-trong-mot><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#build-tat-ca-trong-mot title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Build tất cả trong một</h3><p class=my-4>Giả sử server của bạn sẽ sử dụng hệ điều hành Ubuntu thì chúng ta sẽ sử dụng image Ubuntu để làm cơ sở cấu hình container, sau đó cấu hình thêm các thành phần cần thiết khác.</p><p class=my-4>Trước hết, chúng ta phải pull image <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">ubuntu</code> về máy:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker pull ubuntu
</code></pre></div><p class=my-4>Sau khi pull image này xong, chúng ta có thể tạo một container mới từ image này:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker run -i -t -p <span class=m>127</span>.0.0.1:8000:8000 ubuntu
</code></pre></div><p class=my-4>Lệnh trên sẽ tạo một container mới với port forward cổng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">8000</code> của máy host (máy thật) vào cổng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">8000</code> của container với những tùy chọn như sau:</p><ul class="list-disc ml-5"><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">-i</code> kết nối với <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">stdin</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">stdout</code></li><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">-t</code> khởi tạo một terminal</li><li><code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">-p</code> port forward</li></ul><p class=my-4>Chúng ta cần thay đổi lệnh trên một chút và tạo container với lệnh sau cho phù hợp với mục tiêu của mình:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker run -i -t -p <span class=m>127</span>.0.0.1:8000:8000 <span class=se>\</span>
-v /home/django_project:/home/code ubuntu
</code></pre></div><p class=my-4>Lệnh trên sẽ tạo ra một container mới với cấu hình như sau:</p><ul class="list-disc ml-5"><li>Port forward ở cổng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">8000</code>. Như vậy, chúng ta có thể truy cập đến server chạy trong container qua cổng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">8000</code> của máy thật.</li><li>Thư mục <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/home/django_project</code> được mount vào trong container ở đường dẫn <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/home/code</code>. Điều đó có nghĩa là các file trong thư mục <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/home/django_project</code> có thể truy cập được từ bên trong container ở <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/home/code</code>.</li></ul><p class=my-4>Hai điều trên chính là những gì chúng ta cần khi dùng Docker để phát triển Django. Bây giờ chúng ta có thể biên tập mã nguồn ở máy thật, chạy nó ở máy ảo và xem kết quả từ trình duyệt của mình. Mã nguồn được thực thi ở một môi trường biệt lập, một container của Docker.</p><p class=my-4>Vagrant cũng có cơ chế mount thư mục tương tự như vậy nhưng Vagrant sử dụng virtual machine nên khá tốn tài nguyên hệ thống, trong khi Docker nhẹ nhàng hơn rất nhiều.</p><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=cau-hinh-container><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#cau-hinh-container title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Cấu hình container</h4><p class=my-4>Với container đã được tạo ở trên, chúng ta sẽ được đăng nhập vào terminal của nó với dấu nhắc lệnh là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">#</code>. Từ đây, chúng ta có thể cài đặt các thành phần cần thiết cho dự án của chúng ta như:</p><ul class="list-disc ml-5"><li>Python</li><li>PIP</li><li>PostgreSQL</li><li>Django và những thứ cần cho dự án khác</li></ul><p class=my-4>Vậy là chúng ta có thể làm mọi thứ với container này như với một máy tính thông thường. Sau khi hoàn tất, bạn có thể thoát ra khỏi container với lệnh sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp># </span><span class=nb>exit</span>
</code></pre></div><p class=my-4>Tuy nhiên, ở đây cần phải lưu ý một chút. Nếu bạn không commit container, tất cả những gì bạn vừa làm sẽ không được lưu lại. Do đó, bạn cần phải commit. Trước hết, tìm ID của container với lệnh sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker ps -a
</code></pre></div><p class=my-4>Tìm container mà bạn vừa thao tác. Bạn có thể đặt tên cho nó khi commit:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker commit 31d58a70ae41 django_container
</code></pre></div><p class=my-4>Lệnh trên sẽ commit container bạn vừa thao tác và đặt tên cho nó là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">django_container</code>. Thực ra, sau khi commit, bạn đã tạo ra một image mới cho container vừa rồi. Từ bây giờ, bạn cần khởi động container này để tiếp tục làm việc với dự án Django của mình, bạn có thể dùng lệnh như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker start django_container
<span class=gp>$ </span>sudo docker attach django_container
</code></pre></div><p class=my-4>Đơn giản vậy thôi. Nếu không thích container này nữa, bạn có thể xóa nó đi:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker rm django_container
</code></pre></div><p class=my-4>Nếu bạn muốn lưu trữ container mình đã tạo, bạn có thể sử dụng <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://hub.docker.com/ rel="noopener noreferrer" target=_blank>Docker hub</a>. Với Docker hub, bạn có thể thao tác <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/mac/step_six/ rel="noopener noreferrer" target=_blank>push, pull tương tự như với Github</a>. Ngoài ra, bạn còn có thể đóng gói container này thành một file <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">.tar</code> và chia sẻ nó với những developer khác. Cách làm cụ thể chúng ta sẽ tìm hiểu ở phần tiếp theo.</p><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=ong-goi-container><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#ong-goi-container title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Đóng gói container</h4><p class=my-4>Bạn có thể đóng gói toàn bộ container của mình (bao gồm code dự án, các môi trường Django, PostgreSQL, v.v...) vào một file <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">.tar</code>:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker <span class=nb>export</span> django_container &gt; /home/django_container.tar
</code></pre></div><p class=my-4>Sau khi có file này rồi, bạn có thể dễ dàng chia sẻ nó với các developer khác. Khi họ nhận được nó, họ sẽ dễ dàng khởi động đó với lệnh sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker load django_container &lt; /home/django_container.tar
</code></pre></div><p class=my-4>Việc gõ các lệnh để build và chạy các container có thể là một công việc nhàm chán. Đó chính là lúc bạn cần đến <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/engine/reference/builder/ rel="noopener noreferrer" target=_blank>Dockerfile</a>.</p><p class=my-4>Dockerfile chính là nơi bạn sẽ lưu các cấu hình cho container mà mình cần và có thể dễ dàng chạy container mà không cần phải nhớ những dòng lệnh khô khan và phức tạp. Dockerfile sẽ được sử dụng khá nhiều ở những phần tiếp theo. Nên theo tôi, bạn hãy xem qua nội dung của nó một chút trước khi chúng ta tiếp tục.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=su-dung-docker-compose-cau-hinh-moi-truong-dev><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#su-dung-docker-compose-cau-hinh-moi-truong-dev title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Sử dụng Docker Compose cấu hình môi trường dev</h3><p class=my-4>Việc xây dựng toàn bộ môi trường chạy Web vào một container có thể chưa phải là điều bạn muốn. Bạn muốn chia môi trường này thành các module khác nhau để có thể tái sử dụng ở các dự án khác. Nhu cầu cơ bản nhất là tách biệt cơ sở dữ liệu và server Web để các dự án khác nhau có thể dùng chung một container cơ sở dữ liệu đó. <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/compose/ rel="noopener noreferrer" target=_blank>Docker Compose</a> có thể giúp bạn. Nó sẽ giúp chúng ta có thể cấu hình và chạy nhiều container cùng một lúc cho một dự án (hay bao nhiêu dự án thì tuỳ bạn).</p><p class=my-4>Trước hết, cần phải <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/compose/install/ rel="noopener noreferrer" target=_blank>cài đặt Docker Compose</a> để sử dụng. Có nhiều cách để làm việc này nhưng dễ dàng nhất theo tôi là sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">pip</code>:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>pip install docker-compose
</code></pre></div><p class=my-4>Thông tin về Docker Compose, bạn có thể tham khảo thêm <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/compose/ rel="noopener noreferrer" target=_blank>ở đây</a>. Nói chung là tôi không muốn giới thiệu nhiều về nó, áp dụng nó vào thực tiễn sẽ là dễ hiểu nhất.</p><p class=my-4>Nói qua về ý tưởng trong phần này, chúng ta sẽ tạo ra hai container riêng biệt: một container để chạy Web và một container chứa cơ sở dữ liệu.</p><p class=my-4>Với dự án đang có, bạn tạo một <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">Dockerfile</code> mới để cấu hình cho container Web với nội dung như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=k>FROM</span><span class=w> </span><span class=s>python:latest</span>
<span class=k>ENV</span><span class=w> </span>PYTHONUNBUFFERED <span class=m>1</span>
<span class=k>RUN</span><span class=w> </span>mkdir /code
<span class=k>WORKDIR</span><span class=w> </span><span class=s>/code</span>
<span class=k>ADD</span><span class=w> </span>requirements.txt /code/
<span class=k>RUN</span><span class=w> </span>pip install -r requirements.txt
</code></pre></div><p class=my-4>Nếu bạn chưa quen với Dockerfile, bạn có thể tham khảo thêm <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/engine/userguide/dockerimages/#building-an-image-from-a-dockerfile rel="noopener noreferrer" target=_blank>tài liệu này</a>.</p><p class=my-4>Dockerfile trên nhằm cấu hình một image mới từ image Python phiên bản mới nhất (3.5.1), sau đó thêm thư mục <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/code</code> và cài đặt các package Python cần thiết đã được định nghĩa ở file <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">requirements.txt</code>. Container cho Web server sẽ được tạo ra từ image này.</p><p class=my-4>Dockerfile trên để cấu hình container Web, container cho cơ sở dữ liệu chúng ta không phải cấu hình image cho nó, chỉ cần sử dụng image <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://hub.docker.com/_/postgres/ rel="noopener noreferrer" target=_blank>postgres</a> chuẩn là đủ rồi.</p><p class=my-4>Tiếp theo, tạo file <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">docker-compose.yml</code> với nội dung:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>'2'</span><span class=w></span>
<span class=nt>services</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>db</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span><span class=w></span>
<span class=w>  </span><span class=nt>web</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>build</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.</span><span class=w></span>
<span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">python manage.py runserver 0.0.0.0:8000</span><span class=w></span>
<span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.:/code</span><span class=w></span>
<span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>"8000:8000"</span><span class=w></span>
<span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">db</span><span class=w></span>
</code></pre></div><p class=my-4>File <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">docker-compose.yml</code> sẽ định nghĩa các container mà chúng ta cần. Hiện tại, chúng ta cần một container Web và một container cho cơ sở dữ liệu. Ngoài ra, file này còn một số thông tin cấu hình khác cho các container để chúng hoạt động theo đúng ý đồ của chúng ta. Bạn có thể tham khảo thêm <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/compose/compose-file/ rel="noopener noreferrer" target=_blank>ở đây</a> để biết thêm về cấu trúc của file này.</p><p class=my-4>Cấu hình trên khá đơn giản, chúng ta sẽ tạo ra 2 container. Container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">postgres</code> là container cơ sở dữ liệu. Chúng ta sẽ sử dụng hoàn toàn cấu hình mặc định từ image <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">postgres</code> chuẩn là đủ. Container Web, sau khi cấu hình và cài đặt theo image được định nghĩa ở Dockerfile, chúng ta thêm một số cấu hình khác như port forward, mount thư mục và chạy server dev cho Django.</p><p class=my-4>Chúng ta chạy server cơ sở dữ liệu ở một container độc lập, nên chúng ta cần thay đổi settings để Django có thể kết nối đến nó. Settings mới sẽ tương tự như dưới đây:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=n>DATABASES</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s1>'default'</span><span class=p>:</span> <span class=p>{</span>
        <span class=s1>'ENGINE'</span><span class=p>:</span> <span class=s1>'django.db.backends.postgresql'</span><span class=p>,</span>
        <span class=s1>'NAME'</span><span class=p>:</span> <span class=s1>'postgres'</span><span class=p>,</span>
        <span class=s1>'USER'</span><span class=p>:</span> <span class=s1>'postgres'</span><span class=p>,</span>
        <span class=s1>'HOST'</span><span class=p>:</span> <span class=s1>'db'</span><span class=p>,</span>
        <span class=s1>'PORT'</span><span class=p>:</span> <span class=mi>5432</span><span class=p>,</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Vậy là quá trình cầu hình đã xong, việc cần làm còn lại chỉ đơn giản là tạo container từ cấu hình vừa rồi và khởi động chúng:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>docker-compose up
</code></pre></div><p class=my-4>Lần đầu tiên chạy lệnh này sẽ mất một chút thời gian do hệ thống phải pull các image về sau đó cài đặt và cấu hình các package khác. Những lần tiếp theo, thời gian khởi động sẽ nhanh hơn do chỉ cần đồng bộ các file và thư mục là đủ.</p><p class=my-4>Cuối cùng, nếu mọi chuyện bình thường, chúng ta có thể truy cập <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=http://localhost:8000 rel="noopener noreferrer" target=_blank>http://localhost:8000</a>, kết quả sẽ như sau:</p><p class=my-4><img alt="django homepage" class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://i.imgur.com/GIYWaT9.png width=360></p><p class=my-4>Vậy là xong. Chúng ta build thành công môi trường dev cho dự án Django của chúng ta. Thậm chí container cơ sở dữ liệu còn có thể sử dụng ở nhiều dự án khác nhau nữa.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=su-dung-docker-compose-cau-hinh-moi-truong-production><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#su-dung-docker-compose-cau-hinh-moi-truong-production title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Sử dụng Docker Compose cấu hình môi trường production</h3><p class=my-4>Có thể sẽ có lúc bạn muốn cấu hình thử môi trường production trên chính máy tính của mình. Phần này sẽ trình bày cách làm với Docker.</p><p class=my-4>Với việc sử dụng Docker Compose, việc cấu hình các container đã khá dễ dàng. Vì vậy, chúng ta sẽ tiếp tục sử dụng Docker và Docker Compose cấu hình thử môi trường production xem sao.</p><p class=my-4>Trước hết, bạn cần phải biết việc deploy Django đã. Nếu chưa biết, bạn có thể tham khảo thêm ở <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.djangoproject.com/en/1.9/howto/deployment/wsgi/ rel="noopener noreferrer" target=_blank>hướng dẫn này</a>.</p><p class=my-4>Nói chung, khi deploy Django, stack của chúng ta sẽ bao gồm các thành phần sau:</p><ul class="list-disc ml-5"><li>NGINX là server gateway đồng thời cũng là một reverse proxy.</li><li>WSGI server (uWSGI hoặc gunicorn) chạy Django.</li><li>Server cơ sở dữ liệu (PostgreSQL, MySQL, ...).</li><li>Server khác nếu cần (memcached, Redis, ...)</li></ul><p class=my-4>Chúng ta sẽ xây dựng các container của Docker tương tự như stack này. Stack của chúng ta được minh họa như hình dưới đây:</p><p class=my-4><img alt=django-stack class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://i.imgur.com/MXCVipO.png width=360></p><p class=my-4>Chúng ta có thể sử dụng <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://uwsgi-docs.readthedocs.org/en/latest/ rel="noopener noreferrer" target=_blank>uWSGI</a> hoặc <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=http://gunicorn.org/ rel="noopener noreferrer" target=_blank>gunicorn</a> để làm server WSGI chạy Django. uWSGI cho hiệu suất tốt hơn nhưng gunicorn dễ sử dụng hơn. Trong bài viết này, tôi quyết định sử dụng uWSGi, vừa là vì hiệu suất của nó, vừa là vì nó khó sử dụng nên chúng ta sẽ học được nhiều hơn.</p><p class=my-4>Bắt đầu cấu hình các container thôi. File <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">docker-compose.yml</code> sẽ có nội dung như dưới đây:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s>'2'</span><span class=w></span>
<span class=nt>services</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class=nt>db</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">always</span><span class=w></span>
<span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span><span class=w></span>
<span class=w>    </span><span class=nt>volumes_from</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data</span><span class=w></span>
<span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">data</span><span class=w></span>
<span class=w>  </span><span class=nt>data</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">always</span><span class=w></span>
<span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">postgres</span><span class=w></span>
<span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/var/lib/postgresql</span><span class=w></span>
<span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class=s>"true"</span><span class=w></span>
<span class=w>  </span><span class=nt>nginx</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">always</span><span class=w></span>
<span class=w>    </span><span class=nt>build</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">./nginx/</span><span class=w></span>
<span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>"80:80"</span><span class=w></span>
<span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">/www/static/</span><span class=w></span>
<span class=w>    </span><span class=nt>volumes_from</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">web</span><span class=w></span>
<span class=w>    </span><span class=nt>links</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">web:web</span><span class=w></span>
<span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">web</span><span class=w></span>
<span class=w>  </span><span class=nt>web</span><span class=p>:</span><span class=w></span>
<span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">always</span><span class=w></span>
<span class=w>    </span><span class=nt>build</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.</span><span class=w></span>
<span class=w>    </span><span class=nt>expose</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class=s>"8000"</span><span class=w></span>
<span class=w>    </span><span class=nt>env_file</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.env</span><span class=w></span>
<span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">uwsgi --http :8000 --module mysite.wsgi</span><span class=w></span>
<span class=w>    </span><span class=nt>volumes</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.:/code</span><span class=w></span>
<span class=w>    </span><span class=nt>depends_on</span><span class=p>:</span><span class=w></span>
<span class=w>      </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">db</span><span class=w></span>
</code></pre></div><p class=my-4>Ở đây, chúng ta sẽ xây dựng các container như sau:</p><p class=my-4>Container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">web</code> sẽ làm nhiệm vụ của server WSGI. Về cơ bản, container này khá giống cấu hình container Web của phần trước. Một số điểm khác biệt đó là nó không forward cổng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">8000</code> mà chỉ "expose" cho container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code> mà thôi. Ngoài ra, nó sẽ sử dụng uWSGI để khởi động server cho Django.</p><p class=my-4>Container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code> sẽ làm nhiệm vụ của một reverse proxy, tiếp nhận các truy vấn từ người dùng và chuyển sang cho server WSGI. Ngoài ra, các file tĩnh (CSS, JavaScript, v.v..) sẽ không được Django phục vụ nữa, nhiệm vụ này cũng được chuyển cho NGINX.</p><p class=my-4>Ngoài ra chúng ta có một container cho PostgreSQL và một container để chứa dữ liệu. Việc tách dữ liệu ra lưu trữ ở một container riêng là để tránh sự phụ thuộc của dữ liệu và container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">db</code>, đảm bảo rằng, dữ liệu sẽ vẫn còn nếu chúng ta thay <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">db</code> bằng một container khác.</p><p class=my-4>Ở đây, các container cho cơ sở dữ liệu rất đơn giản, chúng ta gần như sử dụng toàn bộ cấu hình từ image tiêu chuẩn. Container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">web</code> khá giống phần trước nên tôi nghĩ không cần giải thích gì nhiều. Container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code> là phần mới nên tôi sẽ nói kỹ hơn về nó.</p><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=cau-hinh-container-nginx><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#cau-hinh-container-nginx title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Cấu hình container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code></h4><p class=my-4>Để cấu hình container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code>, chúng ta sẽ tạo một thư mục riêng cho nó. Bởi vì image chuẩn là chưa đủ, chúng ta cần cấu hình một image mới. Do đó, việc cấu hình này sẽ cần đến Dockerfile và file cấu hình cho server nên tổ chức chúng vào thư mục riêng sẽ quản lý dễ hơn.</p><p class=my-4>Dockerfile cho NGINX sẽ có nội dung như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=k>FROM</span><span class=w> </span><span class=s>nginx</span>
<span class=k>ADD</span><span class=w> </span>django_site.conf /etc/nginx/conf.d/
</code></pre></div><p class=my-4>Cấu hình trên khá đơn giản. Chúng ta sẽ tạo một image mới từ image <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code> chuẩn, và thêm cầu hình cho trang Web của dự án.</p><p class=my-4>Dưới đây là cấu hình cho server NGINX trở thành reverse proxy cho WSGI, đồng thời nó có nhiệm vụ phục vụ các file tĩnh (CSS, JavaScript, v.v...) ở đường dẫn <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/static</code>.</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=k>server</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=kn>listen</span><span class=w>        </span><span class=mi>80</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>server_name</span><span class=w>   </span><span class=s>server.local</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>charset</span><span class=w>       </span><span class=s>utf-8</span><span class=p>;</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/static</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>alias</span><span class=w> </span><span class=s>/code/static</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_pass</span><span class=w>        </span><span class=s>http://web:8000</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_set_header</span><span class=w>  </span><span class=s>Host</span><span class=w>              </span><span class=nv>$host</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_set_header</span><span class=w>  </span><span class=s>X-Real-IP</span><span class=w>         </span><span class=nv>$remote_addr</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_set_header</span><span class=w>  </span><span class=s>X-Forwarded-For</span><span class=w>   </span><span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div><p class=my-4>Cấu hình này không có gì khó hiểu cả, nếu bạn đã từng làm việc với NGINX rồi. Ở đây tôi chọn <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">server_name</code> là <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">server.local</code> để tránh xung đột với config có sẵn của NGINX. Bạn có thể ghi đè lên config mặc định của NGINX (<code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/etc/nginx/nginx.conf</code>) cũng được. Chỉ có một lưu ý nhỏ là bạn cần sửa file <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">/etc/hosts</code> để có thể truy cập đến localhost thông qua <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">server_name</code>.</p><p class=my-4>Vậy là toàn bộ công việc cần làm đã xong. Docker Compose chỉ cần thêm một chút cầu hình cho container này từ image vừa được tạo ra như mount thư mục <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">static</code>, port forward, v.v nữa là xong. Bây giờ, chúng ta chỉ cần build và khởi động các container là xong. Chúng ta sẽ xem kết quả ở cổng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">80</code> (<a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=http://server.local/ rel="noopener noreferrer" target=_blank>http://server.local/</a>) chứ không phải ở cổng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">8080</code> nữa.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=chay-bash-ben-trong-container><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#chay-bash-ben-trong-container title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Chạy bash bên trong container</h3><p class=my-4>Làm theo tất cả những hướng dẫn ở trên, bạn có thấy thiếu gì không?</p><p class=my-4>Thực ra, đến đây, bạn chỉ có thể chạy Web Django khi chưa có app nào thôi. Bạn hoàn toàn chưa migrate database, chưa tạo user, và có thể sẽ còn vài thao tác cần khởi tạo nữa trước khi ứng dụng của chúng ta có thể hoạt động.</p><p class=my-4>Ví dụ, bạn muốn migrate database và tạo một superuser thì phải làm thế nào? Có một cách để làm việc này, đó là chạy lệnh sau để migrate:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>docker-compose run web python manage.py migrate
</code></pre></div><p class=my-4>Và dùng lệnh tương tự để tạo một admin:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>docker-compose run web python manage.py createsuperuser
</code></pre></div><p class=my-4>Tuy nhiên, cần lưu ý là mỗi lệnh như vậy sẽ tạo ra một container mới. Và may mắn cho chúng ta là nó sẽ cấu hình giống hệt container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">web</code>, và do đó nó cũng kết nối đến cơ sở dữ liệu ở container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">db</code>. Vì vậy, các lệnh <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">migrate</code> hay <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">createsuperuser</code> ở trên sẽ ghi vào cơ sở liệu này. Thế nên, chúng ta có thể sử dụng trang Web như bình thường.</p><p class=my-4>Nhưng một tác dụng phụ là chúng ta đã tạo ra 2 container thừa thãi chẳng để làm gì. Tất nhiên là bây giờ bạn có thể xóa chúng đi, rất đơn giản. Nhưng tại sao phải làm thế khi chúng ta có cách khác hay hơn?</p><p class=my-4>Thông thường, nếu là server thật, chúng ta phải ssh vào server đó và chạy các lệnh. Container của Docker cũng có cơ chế cho phép chúng ta làm điều tương tự.</p><p class=my-4>Chúng ta có thể chạy bash từ container với lệnh sau, sử dụng ID của container:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker <span class=nb>exec</span> -i -t 34f0d3e373f7 bash
</code></pre></div><p class=my-4>Hoặc sử dụng tên của container</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>sudo docker <span class=nb>exec</span> -i -t mysite_web bash
</code></pre></div><p class=my-4>Vậy là chúng ta đang "ở trong" bash của container là có thể thao tác tùy ý với container này. Chúng ta có thể dễ dàng migrate, tạo admin mà không cần tạo container nào khác.</p><h3 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-2xl text-gray-900 dark:text-gray-100" id=update><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#update title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Update</h3><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=security><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#security title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Security</h4><p class=my-4>Vì những lý do về bảo mật, chúng ta chỉ nên port forward cho container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code> mà thôi. Các container khác chúng ta chỉ "expose" và liên kết các container với nhau thông qua <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/compose/compose-file/#links rel="noopener noreferrer" target=_blank>links</a>.</p><p class=my-4>Container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">db</code> và cả container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">data</code> để build từ image <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">postgres</code> chuẩn. Nếu chúng ta không chỉ định username và password thì bất cứ ai cũng có thể truy cập đến chúng. Ngoài ra, các dữ liệu như <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">SECRET_KEY</code>, hay <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">PASSWORD</code> của PostgreSQL chúng ta cần chuyển sang sử dụng biến môi trường thay vì hard code vào settings.</p><p class=my-4>Docker cho phép chúng ta dễ dàng thiết lập các biến môi trường thông qua <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://docs.docker.com/compose/compose-file/#env-file rel="noopener noreferrer" target=_blank>env_file</a>. Ví dụ, với container WSGI, chúng ta có thể cấu hình các biến môi trường như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=nv>PYTHONBUFFERED</span><span class=o>=</span><span class=m>1</span>
<span class=nv>SECRET_KEY</span><span class=o>=</span>its-a-secret-to-everybody
<span class=nv>DB_NAME</span><span class=o>=</span>your-database-name
<span class=nv>DB_USER</span><span class=o>=</span>your-username
<span class=nv>DB_PASSWORD</span><span class=o>=</span>your-password
<span class=nv>DB_HOST</span><span class=o>=</span>db
<span class=nv>DB_PORT</span><span class=o>=</span><span class=m>5432</span>
</code></pre></div><p class=my-4>Lưu nội dung trên vào một file, ví dụ <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">.env</code>, chúng ta có thể dễ dàng cấu hình container các biến môi trường này:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=nt>env_file</span><span class=p>:</span><span class=w></span>
<span class=w>  </span><span class="p p-Indicator">-</span><span class=w> </span><span class="l l-Scalar l-Scalar-Plain">.env</span><span class=w></span>
</code></pre></div><p class=my-4>Bây giờ, chúng ta cần thay đổi settings để lấy dữ liệu từ các biến môi trường này:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=n>SECRET_KEY</span> <span class=o>=</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'SECRET_KEY'</span><span class=p>,</span> <span class=s1>''</span><span class=p>)</span>
<span class=n>DATABASES</span> <span class=o>=</span> <span class=p>{</span>
    <span class=s1>'default'</span><span class=p>:</span> <span class=p>{</span>
        <span class=s1>'ENGINE'</span><span class=p>:</span> <span class=s1>'django.db.backends.postgresql'</span><span class=p>,</span>
        <span class=s1>'NAME'</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'DB_NAME'</span><span class=p>,</span> <span class=s1>''</span><span class=p>),</span>
        <span class=s1>'USER'</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'DB_USER'</span><span class=p>,</span> <span class=s1>''</span><span class=p>),</span>
        <span class=s1>'PASSWORD'</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'DB_PASSWORD'</span><span class=p>,</span> <span class=s1>''</span><span class=p>),</span>
        <span class=s1>'HOST'</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'DB_HOST'</span><span class=p>,</span> <span class=s1>''</span><span class=p>),</span>
        <span class=s1>'PORT'</span><span class=p>:</span> <span class=n>os</span><span class=o>.</span><span class=n>environ</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=s1>'DB_PORT'</span><span class=p>,</span> <span class=s1>''</span><span class=p>),</span>
    <span class=p>}</span>
<span class=p>}</span>
</code></pre></div><p class=my-4>Chúng ta có thể làm điều tương tự với hai container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">db</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">data</code>.</p><p class=my-4>Ngoài ra, chúng ta có thể thiết lập sử dụng HTTPS thay cho HTTP ngay trên chính Docker. Ví dụ, chúng ta có thể thay đổi config của NGINX như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=k>server</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=kn>listen</span><span class=w>        </span><span class=mi>80</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>server_name</span><span class=w>   </span><span class=s>server.local</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>rewrite</span><span class=w>       </span><span class=s>^/(.*)</span><span class=w> </span><span class=s>https://</span><span class=nv>$host/$1</span><span class=w> </span><span class=s>permanent</span><span class=p>;</span><span class=w></span>
<span class=p>}</span><span class=w></span>

<span class=k>server</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=kn>listen</span><span class=w>        </span><span class=mi>443</span><span class=w> </span><span class=s>ssl</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>server_name</span><span class=w>   </span><span class=s>server.local</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>charset</span><span class=w>       </span><span class=s>utf-8</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>access_log</span><span class=w>    </span><span class=s>/www/log/access.log</span><span class=w> </span><span class=s>combined</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>error_log</span><span class=w>     </span><span class=s>/www/log/error.log</span><span class=w> </span><span class=s>error</span><span class=p>;</span><span class=w></span>

<span class=w>    </span><span class=kn>ssl_certificate</span><span class=w>       </span><span class=s>/www/ssl/ssl.crt</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>ssl_certificate_key</span><span class=w>   </span><span class=s>/www/ssl/ssl.key</span><span class=p>;</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/static</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>alias</span><span class=w> </span><span class=s>/www/static</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/media</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>alias</span><span class=w> </span><span class=s>/www/animals</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_pass</span><span class=w>        </span><span class=s>http://web:8000</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_redirect</span><span class=w>    </span><span class=no>off</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_set_header</span><span class=w>  </span><span class=s>Host</span><span class=w>              </span><span class=nv>$http_host</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_set_header</span><span class=w>  </span><span class=s>X-Real-IP</span><span class=w>         </span><span class=nv>$remote_addr</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>proxy_set_header</span><span class=w>  </span><span class=s>X-Forwarded-For</span><span class=w>   </span><span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div><p class=my-4>Config trên sẽ chuyển toàn bộ truy vấn sử dụng HTTP thành HTTPS. Từ bây giờ, chúng ta có thể thiếp lập thuộc tính <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">secure</code> cho cookie được rồi:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=n>CSRF_COOKIE_SECURE</span> <span class=o>=</span> <span class=kc>True</span>
<span class=n>SESSION_COOKIE_SECURE</span> <span class=o>=</span> <span class=kc>True</span>
</code></pre></div><p class=my-4>Cấu hình trên yêu cầu bạn phải có một SSL certificate để sử dụng HTTPS. Bạn có thể mua lấy một giấy phép như vậy. Tuy nhiên, ở localhost thì chúng ta chưa cần làm như vậy. Chúng ta có thể tạo ra một giấy phép SSL với <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">openssl</code> như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=gp>$ </span>openssl req -x509 -nodes -days <span class=m>365</span> -newkey rsa:2048 <span class=se>\</span>
-keyout mysite/nginx/ssl.key -out mysite/nginx/ssl.crt
</code></pre></div><p class=my-4>Chỉ có một vấn đề nhỏ, đó là khi tự tạo ra SSL certificate chúng ta sẽ gặp phải vấn đề sau:</p><p class=my-4><img alt="untrusted connection" class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://i.imgur.com/d16m9ak.png width=360></p><p class=my-4>Tất nhiên là bạn có thể bỏ qua vấn đề này để truy cập trang bình thường. Và kết quả sẽ như sau:</p><p class=my-4><img alt="django https" class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://i.imgur.com/Q5ahUBq.png width=360></p><h4 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-xl text-gray-900 dark:text-gray-100" id=su-dung-uwsgi_params><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#su-dung-uwsgi_params title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">uwsgi_params</code></h4><p class=my-4>Sau khi tham khảo một số nơi, và đặc biệt là <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=http://uwsgi-docs.readthedocs.org/en/latest/Nginx.html rel="noopener noreferrer" target=_blank>tài liệu của uWSGI</a>, thì uWSGI có hỗ trợ NGINX. Nên tôi nghĩ, chúng ta nên sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">uwsgi_params</code> cho NGINX thì tốt hơn.</p><p class=my-4>Config của NGINX sẽ như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=k>upstream</span><span class=w> </span><span class=s>django</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=kn>server</span><span class=w> </span><span class=n>web</span><span class=p>:</span><span class=mi>8000</span><span class=p>;</span><span class=w></span>
<span class=p>}</span><span class=w></span>

<span class=k>server</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=kn>listen</span><span class=w>        </span><span class=mi>80</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>server_name</span><span class=w>   </span><span class=s>server.local</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>rewrite</span><span class=w>       </span><span class=s>^/(.*)</span><span class=w> </span><span class=s>https://</span><span class=nv>$host/$1</span><span class=w> </span><span class=s>permanent</span><span class=p>;</span><span class=w></span>
<span class=p>}</span><span class=w></span>

<span class=k>server</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=kn>listen</span><span class=w>        </span><span class=mi>443</span><span class=w> </span><span class=s>ssl</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>server_name</span><span class=w>   </span><span class=s>server.local</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>charset</span><span class=w>       </span><span class=s>utf-8</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>access_log</span><span class=w>    </span><span class=s>/www/log/access.log</span><span class=w> </span><span class=s>combined</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>error_log</span><span class=w>     </span><span class=s>/www/log/error.log</span><span class=w> </span><span class=s>error</span><span class=p>;</span><span class=w></span>

<span class=w>    </span><span class=kn>ssl_certificate</span><span class=w>       </span><span class=s>/www/ssl/ssl.crt</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=kn>ssl_certificate_key</span><span class=w>   </span><span class=s>/www/ssl/ssl.key</span><span class=p>;</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/static</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>alias</span><span class=w> </span><span class=s>/www/static</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/media</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>alias</span><span class=w> </span><span class=s>/www/animals</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>

<span class=w>    </span><span class=kn>location</span><span class=w> </span><span class=s>/</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=kn>include</span><span class=w>       </span><span class=s>uwsgi_params</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>uwsgi_pass</span><span class=w>    </span><span class=s>django</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>uwsgi_param</span><span class=w>   </span><span class=s>Host</span><span class=w>                </span><span class=nv>$http_host</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>uwsgi_param</span><span class=w>   </span><span class=s>X-Real-IP</span><span class=w>           </span><span class=nv>$remote_addr</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>uwsgi_param</span><span class=w>   </span><span class=s>X-Forwarded-For</span><span class=w>     </span><span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span><span class=w></span>
<span class=w>        </span><span class=kn>uwsgi_param</span><span class=w>   </span><span class=s>X-Forwarded-Proto</span><span class=w>   </span><span class=nv>$http_x_forwarded_proto</span><span class=p>;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div><p class=my-4>Sử dụng <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">uwsgi_params</code> và <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">uwsgi_pass</code> có thể khiến bạn gặp lỗi 502 Bad Gateway khi kết nối từ container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">nginx</code> sang container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">web</code>. Khi đó, bạn cần thêm một chút cấu hình, nhất là thay đổi user chạy uWSGI. Vì cần cấu hình khá nhiều nên chúng ta sẽ viết chúng vào một file, <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">uwsgi.ini</code> với nội dung như sau:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=k>[uwsgi]</span><span class=w></span>
<span class=c1># thư mục chứa mã nguồn Django</span><span class=w></span>
<span class=na>chdir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/code</span><span class=w></span>
<span class=c1># File wsgi của Django</span><span class=w></span>
<span class=na>module</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>mysite.wsgi</span><span class=w></span>
<span class=c1># Socket, để kết nối từ NGINX</span><span class=w></span>
<span class=na>socket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>0.0.0.0:8000</span><span class=w></span>
<span class=c1># master</span><span class=w></span>
<span class=na>master</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span><span class=w></span>
<span class=c1># số worker tối đa</span><span class=w></span>
<span class=na>processes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>10</span><span class=w></span>
<span class=c1># thay đổi user để tránh lỗi 502</span><span class=w></span>
<span class=na>chown-socket</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>www-data:www-data</span><span class=w></span>
</code></pre></div><p class=my-4>Và thay đổi lệnh ở container <code class="bg-gray-100 p-0.5 dark:bg-gray-900 text-sm">web</code> thành:</p><div class="chl my-4 p-4 bg-gray-100 dark:bg-gray-900 overflow-auto scrollbar:!w-1.5 scrollbar:!h-1.5 scrollbar:bg-transparent scrollbar-track:!bg-gray-100 scrollbar-thumb:!rounded scrollbar-thumb:!bg-gray-300 scrollbar-track:!rounded dark:scrollbar-track:!bg-gray-500/[0.16] dark:scrollbar-thumb:!bg-gray-500/50"><pre class=text-sm><code><span class=go>uwsgi --ini uwsgi.ini</span>
</code></pre></div><h2 class="group font-semibold mt-8 mb-4 pb-2 border-b border-gray-100 dark:border-gray-700 text-3xl text-gray-900 dark:text-gray-100" id=ket-luan><a class="md:opacity-0 group-hover:opacity-100 float-left -ml-5 pr-1 leading-none" href=#ket-luan title="Permanent link"><svg class="h-4 w-4 inline-block" fill=none stroke=currentColor viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></a>Kết luận</h2><p class=my-4>Docker thực sự cung cấp cho chúng ta một giải pháp mới cho công việc ảo hoá. Thay vì cách làm truyền thống là tạo phần cứng ảo và cài đặt nguyên một hệ điều hành lên đó, Docker đóng gói các container và chạy chúng trên chính máy thật. Nó thật tới mức, nếu Docker của bạn có chạy NGINX, ở ngay trên máy thật, chúng ta cũng thấy có tiến trình của NGINX đang chạy, giống hệt các tiến trình thông thường khác.</p><p class=my-4><img alt="docker process" class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://i.imgur.com/G8JIcTV.png width=360></p><p class=my-4>Docker container chạy trên máy thật và chia sẻ tài nguyên với chính máy thật, nên hoạt động nhẹ nhàng hơn hẳn các phương pháp ảo hoá khác. Ngoài ra, việc khởi động và tắt một container cũng rất nhanh chóng. Như trường hợp trên của chúng ta, chúng ta đang chạy cùng một lúc tới 4 container mà tài nguyên hệ thống cũng chưa tốn mấy.</p><p class=my-4><img alt="docker resource" class="w-auto h-auto mx-auto" height=270 loading=lazy src=https://i.imgur.com/mzFIMoo.png width=360></p><p class=my-4>Thử tưởng tượng điều gì xảy ra nếu chúng ta chạy 4 máy ảo trên VirtualBox cùng một lúc. Tôi tin rằng , ngay cả khi chỉ cung cấp cho máy ảo cấu hình tối thiểu, máy tính của chúng ta sẽ tốn một lượng tài nguyên không nhỏ, và có lẽ, phần còn lại chẳng còn đủ để chúng ta code gì nữa.</p><p class=my-4>Docker là một giải pháp mà chúng ta có thể dùng khi cần đến ảo hoá trong các project nói chung, không nhất định là project Django.</p></div><div class="mt-8 text-sm leading-relaxed"><svg xmlns=http://www.w3.org/2000/svg class="h-4 w-4 inline" fill=none viewbox="0 0 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"/></svg><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #Python </span><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #Django </span><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #Docker </span><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #Docker Compose </span><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #DevOps </span><span class="text-crimson hover:text-gray-500 cursor-pointer dark:hover:text-gray-300"> #virtualisation </span></div></div><div class="flex justify-between items-center my-10 text-sm"><div class="flex-grow text-left"><a href=/2016/05/12/su-dung-amd-requirejs-de-module-hoa-javascript.html class="p-2 text-white bg-crimson"><svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg> Bài viết sau </a></div><div class="flex-grow text-right"><a href=/2016/03/28/hieu-va-master-tu-khoa-this-cua-javascript.html class="p-2 text-white bg-crimson"> Bài viết trước <svg xmlns=http://www.w3.org/2000/svg class="inline h-4 w-4" fill=none viewbox="0 2 24 24" stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M14 5l7 7m0 0l-7 7m7-7H3"/></svg></a></div></div><div class="mb-8 p-8 text-justify bg-white shadow-lg dark:bg-gray-800 dark:text-gray-300"><p class="mb-2 italic leading-relaxed"> Tôi xin lỗi nếu bài viết có bất kỳ typo nào. Nếu bạn nhận thấy điều gì bất thường, xin hãy cho tôi biết. </p><p class="mb-8 leading-relaxed"> Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer">tạo discussion</a> hoặc <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer">report issue</a> trên Github. </p><div class="flex justify-between mb-4 text-gray-900 dark:text-gray-100"><a href=https://twitter.com/_naa_4f target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Twitter</title><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/></svg></a><a href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg></a><a href=https://www.facebook.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg></a><a href=https://github.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=none viewbox="0 0 24 24" stroke=currentColor><title>Discussion</title><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg></a></div></div></div><div class="md:col-span-2 flex-shrink-0 p-6 bg-white text-sm leading-relaxed shadow-entry dark:bg-gray-800"><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Welcome </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><img width=262 height=262 src=/meow.webp alt=manhhomienbienthuy class="w-3/4 h-auto mx-auto mb-4 rounded-full"><p class="mb-10 text-justify">Xin chào. Tôi là manhhomienbienthuy, nickname khác là naa. Đây là thế giới của tôi, chào mừng đến với thế giới của tôi…</p><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Bài viết liên quan </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="mb-10 divide-y"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow" href=/2018/03/26/hieu-va-lam-chu-django-inline-formset.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Hiểu và làm chủ Django inline formset" src=https://i.imgur.com/EWASS33s.png></a><a href=/2018/03/26/hieu-va-lam-chu-django-inline-formset.html> Hiểu và làm chủ Django inline formset </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow" href=/2017/03/23/django-views-mot-vai-cam-nhan.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Django views: một vài cảm nhận" src=https://i.imgur.com/D5Z4pfns.png></a><a href=/2017/03/23/django-views-mot-vai-cam-nhan.html> Django views: một vài cảm nhận </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow" href=/2016/11/23/vai-lo-hong-thuong-gap-va-cach-phong-chong-trong-django.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Vài lỗ hổng thường gặp và cách phòng chống trong Django" src=https://i.imgur.com/2IRzB2ns.jpg></a><a href=/2016/11/23/vai-lo-hong-thuong-gap-va-cach-phong-chong-trong-django.html> Vài lỗ hổng thường gặp và cách phòng chống trong Django </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow" href=/2016/02/02/django-abstract-base-classes-vs-multiple-table-inheritance.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Django: Abstract Base Classes vs Multiple Table Inheritance" src=https://i.imgur.com/FuZ3Phjs.png></a><a href=/2016/02/02/django-abstract-base-classes-vs-multiple-table-inheritance.html> Django: Abstract Base Classes vs Multiple Table Inheritance </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow" href=/2016/01/24/cach-su-dung-django-admin-va-cac-truong-hop-chong-chi-dinh.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Cách sử dụng Django admin và các trường hợp chống chỉ định" src=https://i.imgur.com/pGKmM6es.png></a><a href=/2016/01/24/cach-su-dung-django-admin-va-cac-truong-hop-chong-chi-dinh.html> Cách sử dụng Django admin và các trường hợp chống chỉ định </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Bài viết mới </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="divide-y mb-10"><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/05/06/postgresql-vs-mysql.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="PostgreSQL vs MySQL" src=https://i.imgur.com/5d93N7Fs.png></a><a href=/2022/05/06/postgresql-vs-mysql.html> PostgreSQL vs MySQL </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/04/11/nodejs-blocking-non-blocking-io.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="NodeJS: Blocking & Non-blocking I/O" src=https://i.imgur.com/9ql6xWws.png></a><a href=/2022/04/11/nodejs-blocking-non-blocking-io.html> NodeJS: Blocking & Non-blocking I/O </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/04/01/hieu-hon-javascript-object-prototype-va-class.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Hiểu hơn JavaScript: Object, Prototype và Class" src=https://i.imgur.com/0OW5FHzs.png></a><a href=/2022/04/01/hieu-hon-javascript-object-prototype-va-class.html> Hiểu hơn JavaScript: Object, Prototype và Class </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/03/16/dung-dung-last-n-versions-voi-browserslist.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="Đừng dùng last n versions với browserslist" src=https://i.imgur.com/WyMHkO5s.jpg></a><a href=/2022/03/16/dung-dung-last-n-versions-voi-browserslist.html> Đừng dùng last n versions với browserslist </a></div><div class="flex items-center gap-2 mb-6 pt-6"><a class="flex-shrink-0 w-16 h-16 shadow-img" href=/2022/03/01/so-sanh-nho-typescript-vs-javascript.html><img width=64 height=64 loading=lazy class="w-full h-full p-1" alt="So sánh nhỏ: TypeScript vs JavaScript" src=https://i.imgur.com/UNFe3Hxs.jpg></a><a href=/2022/03/01/so-sanh-nho-typescript-vs-javascript.html> So sánh nhỏ: TypeScript vs JavaScript </a></div></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Chuyên mục </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="flex flex-wrap gap-2 mb-10 text-xs dark:border-gray-100"><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/cuoc-song.html> Cuộc sống </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/du-lich.html> Du lịch </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/lap-trinh.html> Lập trình </a><a class="py-1 px-2 text-white uppercase bg-crimson" href=/category/tong-hop.html> Tổng hợp </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Lưu trữ theo năm </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><div class="flex flex-wrap gap-[0.57rem] mb-10 text-xs"><a href=/2022/ class="py-1 w-10 text-white text-center bg-crimson"> 2022 </a><a href=/2021/ class="py-1 w-10 text-white text-center bg-crimson"> 2021 </a><a href=/2020/ class="py-1 w-10 text-white text-center bg-crimson"> 2020 </a><a href=/2019/ class="py-1 w-10 text-white text-center bg-crimson"> 2019 </a><a href=/2018/ class="py-1 w-10 text-white text-center bg-crimson"> 2018 </a><a href=/2017/ class="py-1 w-10 text-white text-center bg-crimson"> 2017 </a><a href=/2016/ class="py-1 w-10 text-white text-center bg-crimson"> 2016 </a><a href=/2015/ class="py-1 w-10 text-white text-center bg-crimson"> 2015 </a><a href=/2014/ class="py-1 w-10 text-white text-center bg-crimson"> 2014 </a><a href=/2013/ class="py-1 w-10 text-white text-center bg-crimson"> 2013 </a><a href=/2012/ class="py-1 w-10 text-white text-center bg-crimson"> 2012 </a><a href=/2011/ class="py-1 w-10 text-white text-center bg-crimson"> 2011 </a><a href=/2010/ class="py-1 w-10 text-white text-center bg-crimson"> 2010 </a></div><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Câu nói yêu thích </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><p class=text-justify><q>There's a big difference between knowing the name of something and knowing something.</q></p><p class="mt-2 mb-8 text-right text-indigo-500">– Richard P. Feynman –</p><h2 class="mb-2 font-semibold text-gray-900 uppercase dark:text-gray-100"> Thông tin liên hệ </h2><hr class="w-8 h-0.5 border-gray-900 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-1 dark:border-gray-100"><hr class="w-8 h-0.5 border-gray-900 ml-2 mb-4 dark:border-gray-100"><p class="mb-8 text-justify"> Cảm ơn bạn đã quan tâm blog của tôi. Nếu có bất điều gì muốn nói, bạn có thể liên hệ với tôi qua các mạng xã hội, <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer">tạo discussion</a> hoặc <a class="text-crimson hover:text-gray-500 dark:hover:text-gray-300" href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer">report issue</a> trên Github. </p><div class="flex justify-between mb-8 text-gray-900 dark:text-gray-100"><a href=https://twitter.com/_naa_4f target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Twitter</title><path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"/></svg></a><a href=https://www.linkedin.com/in/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>LinkedIn</title><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg></a><a href=https://www.facebook.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Facebook</title><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0-.002 3.603-.002 8.05c0 4.017 2.926 7.347 6.75 7.951v-5.625h-2.03V8.05H6.75V6.275c0-2.017 1.195-3.131 3.022-3.131.876 0 1.791.157 1.791.157v1.98h-1.009c-.993 0-1.303.621-1.303 1.258v1.51h2.218l-.354 2.326H9.25V16c3.824-.604 6.75-3.934 6.75-7.951z"/></svg></a><a href=https://github.com/manhhomienbienthuy target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Github</title><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/discussions target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=none viewbox="0 0 24 24" stroke=currentColor><title>Discussion</title><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"/></svg></a><a href=https://github.com/manhhomienbienthuy/manhhomienbienthuy.github.io/issues target=_blank rel="noopener noreferrer"><svg xmlns=http://www.w3.org/2000/svg class="h-6 w-6" fill=currentColor viewbox="0 0 16 16"><title>Issue</title><path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/></svg></a></div></div></div><a href=# class="jsBackToTop fixed z-50 bottom-4 right-4 block hidden w-10 h-10 text-white bg-crimson rounded-full"><svg xmlns=http://www.w3.org/2000/svg class="h-10 w-10" fill=none viewbox="0 0 24 24" stroke=currentColor><title>Back to Top</title><path stroke-linecap=round stroke-linejoin=round stroke-width=4 d="M7 11l5-5m0 0l5 5m-5-5v12"/></svg></a></main><footer class="mt-8 text-white"><div class=bg-gray-800><div class="grid grid-cols-1 md:grid-cols-3 md:gap-8 max-w-screen-xl mx-auto px-4 leading-loose text-justify"><div class=py-8><a href=/ title="Blog | manhhomienbienthuy"><svg width=1000 height=165 version=1.0 viewbox="0 0 1000 165" fill=currentColor class="w-full h-auto text-white" xmlns=http://www.w3.org/2000/svg><path d="M651.5 14.7c-10.4 1-11.6 1.4-11 3.3.9 2.9-1.2 7-17.6 34.2-8.4 13.9-17.6 30.2-20.4 36.3-3.5 7.4-6.7 12.4-9.6 15.4-6.1 6.1-13.9 9.2-13.9 5.6 0-2.6 4.7-11 12.7-22.8C600.3 74 602 70.5 602 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C500.2 71 505.5 60.6 504.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.2-3.6 4.8-2 6.7-19.5 35.4-25 41.1-5.1 5.1-8.7 6.6-9.8 3.8-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8c13.2-20.9 20.3-29.9 25.2-31.7 7-2.7 5.7 3-5 21-7.7 12.9-11.6 21.6-11.6 25.8 0 2 5.5 7.2 7.7 7.2 3.9 0 9.5-2.2 13.8-5.5 2.5-1.9 4.7-3.5 5-3.5s.5 1.3.5 2.8c0 1.7 1 3.8 2.5 5.2 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-5 7.7-10 15.9-11.2 18.2-2.7 5.4-2.9 11.8-.4 14.6 4.4 4.8 16.5 1.1 25.6-8l4.8-4.8.6 3.8c1.3 8.3 8.3 12.4 17.3 10.2 18.5-4.6 39.3-28 39.3-44.3 0-14-8.6-18.8-20-11.1-5.5 3.7-5.5 3.7-3.6.8 5.6-8.5 23.6-41 24.1-43.6.8-3.7 0-4.6-4-4.2zM542.6 62.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zm101 3c1.9 7.8-15.7 39.6-25.6 46.3-2.2 1.4-4.6 2.2-6.5 2-2.6-.3-3-.7-3.3-3.6-.8-8.1 8.8-27.5 19.7-39.5 7-7.8 14.4-10.2 15.7-5.2zM821 16c-1.1 1.1-2 2.7-2 3.5 0 2.1-5.3 12.5-9.7 19.2l-3.6 5.3h-5.8c-5.6 0-5.9.1-5.9 2.4 0 2.2.5 2.5 4.4 2.8l4.4.3-11 18c-6 9.9-13 22-15.4 27-4.7 9.9-7.3 13-12.1 15.1-4.2 1.8-6.3 1.8-6.3-.1 0-2.6 4.7-11 12.7-22.8C779.3 74 781 70.5 781 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 3.1-8.1 17.8-14.9 27.2-5.8 8-17.3 18.7-22.5 21.1-11.4 5.2-15.8-1.8-9.3-15 2-4.1 2.7-4.6 7.7-5.8 11.9-2.9 24.9-11.3 28.5-18.4 2.1-4 1.9-9.2-.5-11.4-1.5-1.4-3-1.7-6.7-1.2-17.2 2-35.5 17.7-42.7 36.6-2.1 5.4-3.9 8.1-8.4 12.4-6.4 6.1-9.5 7.5-11.8 5.6-2.8-2.3-.9-7 9.2-23.5C679.2 71 684.5 60.6 683.5 59c-.8-1.2-8.5-1.3-11.7-.1-1.6.6-2.8 2.3-3.6 4.9-.7 2.2-4.9 10-9.3 17.3-10.4 17-12.9 22.7-12.9 28.8 0 3.8.5 5.2 2.5 7.1 2.1 2 3.1 2.2 7.4 1.7 6.3-.7 10.2-2.8 16.2-8.4l4.7-4.4 1.1 3.4c.7 1.9 2.3 4.5 3.7 5.8 2.1 2 3.6 2.4 8.7 2.4 7.1 0 11.8-2.3 20-9.5 2.6-2.3 4.7-3.9 4.7-3.6s-1.3 2.7-3 5.3c-4.3 6.8-4.1 7.3 3.3 7.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 10.4 11 11.4 23.4 2l3.5-2.7.8 3c2.1 8.2 12.3 8.2 22.8 0 4.4-3.5 5.6-3.7 3.5-.7-3.1 4.4-2.2 5.8 3.7 5.8 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-9.8 15.5-12.8 21.7-12.8 26.5 0 4.4 3.3 7.9 7.6 7.9 4.5 0 12.6-4.5 18.6-10.3l5.4-5.2-.4 5.2c-.5 6.3 1.3 9.8 5.7 10.8s9.5-1.7 17.1-9.1l6.9-6.6-.2 5.5c-.2 4.2.3 6 1.7 7.6 2.8 3.1 8.3 2.8 13.2-.7l3.9-2.8 2 3c1.1 1.6 3.1 3.3 4.5 3.6 3.8 1 11.1-1.5 15.8-5.5 2.3-2 4.2-3.4 4.2-3.1 0 1.2-10.4 19.3-13.5 23.6-4.7 6.4-14.3 15.4-19.3 17.9-4.7 2.4-10.9 2.7-13.7.8-1.6-1.2-1.6-1.8-.7-4.7 1.6-4.4 1.5-5.6-.4-7.4-3.8-3.8-10.4.2-10.4 6.3 0 11 18.9 13.3 36.9 4.5 11.2-5.5 20.6-15.4 29.7-31.4 3.9-6.9 10.6-18.4 14.9-25.5 16.8-28.2 19.1-32.6 18-34.5-.4-.6-3.5-1-7.1-1-5.3 0-6.6.3-7 1.7-.8 2.9-12.5 25.4-16.1 31.2-6.9 10.8-18.9 21.2-22.8 19.7-2.8-1 1.4-11 11-26.7 7.3-11.8 12.7-22.8 12.1-24.5-.6-1.5-4.4-1.8-9.5-.8-2.7.6-3.6 1.5-5.5 5.8-1.3 2.8-5.8 10.6-10 17.4-7.7 12.2-12.6 21.5-12.6 23.9 0 1.7-4.6 4.6-6 3.8-3.2-2 .2-11 10.4-27.8 7.7-12.8 11.5-20.1 11.6-22.5 0-.8-1.4-1.2-4.2-1.1-9.3.3-9.7.6-13.8 10.2-6.6 15.4-24.1 39.3-30.4 41.7-2.9 1-4.6.2-4.6-2.4 0-1.2 3.9-8.7 8.6-16.7C900 63.4 901.8 58 894.5 58c-6.7 0-9.5 1.1-10 3.9-2.4 12.1-24.9 42.1-34.6 46.1-7.4 3.1-5.5-3.2 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-1-1.2-2.4-1.5-6.1-1-6.7.9-7.5 1.4-8.3 4.4-.3 1.5-2.3 5.6-4.5 9.2-2.1 3.6-7.5 13-12 21-28.3 50.1-35.9 60.5-43.8 59.8-5-.4-5.2-2.6-1.2-12.1 3.3-8.1 16.2-30.6 24.2-42.5l4.9-7.2h5.4c5.2 0 5.5-.1 5.5-2.5 0-2.3-.4-2.5-4-2.5-2.2 0-4-.2-4-.6 0-.3 1.8-3.2 4-6.4 5-7.4 11-18.9 11-21.3 0-2.7-12.2-2.5-15 .3zm-99.4 46.5c.3.8-.7 3.7-2.2 6.5-3.8 7-16.5 17-21.5 17-1.7 0 9-14.6 14.6-19.9 5.5-5.2 8.1-6.2 9.1-3.6zM271.5 16.5c-.5.2-2.2.6-3.7.9-1.6.4-2.8 1.2-2.8 1.9 0 1.7-2.4 6.2-12.9 24.7-18.8 33.1-33.6 57.7-36.5 60.9-4.7 5.1-12.6 8-12.6 4.6 0-2.6 4.7-11 12.7-22.8C224.3 74 226 70.5 226 65.5c0-5.2-2.8-7.5-9-7.5-5.7 0-9.5 1.6-15.7 6.7-2.4 1.9-4.3 3.2-4.3 3 0-.3.7-2.1 1.5-4.1.9-2 1.3-4.1 1-4.6-.4-.6-3.7-1-7.6-1-6.9 0-6.9 0-6.9 2.8 0 5.5-20.8 38.1-29.4 46-4.8 4.4-7 5.2-7.9 2.8-1-2.5 1-7.5 7.2-18 8.4-14.3 18.1-31.8 18.1-32.8 0-.4-2.9-.8-6.5-.8s-6.5.4-6.5.8c0 .5-.6 1.6-1.3 2.6-1.3 1.8-1.5 1.7-4.1-.9-2.4-2.4-3.4-2.7-7-2.3-13.6 1.6-31.1 16.8-39.7 34.5-5.8 11.8-16.5 21-18.5 15.9-.6-1.7 3-9.1 9.6-19.6 12.6-20.1 14.1-27.7 6.1-31.9-4.6-2.5-13.9.9-20 7.3-1.9 2-3.9 3.6-4.3 3.6s-.8-1.6-.8-3.5c0-4.6-2.9-7.5-7.5-7.5-4.2 0-8.4 2-14.2 6.7l-4.2 3.5.9-3.2c1.4-5 .5-6-6-6-6.3 0-8.2 1.3-9.4 6.3-.6 2.7-17.1 33-24.7 45.4-2.2 3.5-3.9 6.6-3.9 6.8 0 .3 3.1.5 6.8.5h6.8l8.2-13.8c11.1-18.8 19.6-30.5 25.6-35.3 5.1-4.1 8.8-4.8 9.4-1.8.2.9-5.8 12.5-13.3 25.8-7.4 13.2-13.5 24.3-13.5 24.6s2.8.5 6.2.3l6.2-.3 13-20.8C79.6 74.8 86.7 65.8 91.6 64c7-2.7 5.7 3-5 21C78.9 97.9 75 106.6 75 110.8c0 .7 1.4 2.7 3 4.4 2.8 2.7 3.5 3 7.1 2.4 5.4-.9 9.2-2.9 14.4-7.7l4.3-3.9.7 3.6c.3 2.1 2 5 3.6 6.7 2.5 2.5 3.6 2.9 6.4 2.4 3.8-.6 9.8-4.5 16.4-10.6 2.4-2.3 4.5-4.1 4.7-4.1s.4 2.2.4 5c0 6.2 2.7 9.6 6.8 8.5 3.5-.9 8.2-3.1 11.1-5.2 2.4-1.7 2.4-1.7 1.3.4-2.1 3.8-1.5 4.3 5.1 4.3h6.3l11.2-17.3c12.5-19.4 19.9-28.6 26.3-32.8 5.1-3.5 8.5-3.5 8.2-.1-.2 1.3-4.4 8.6-9.3 16.3-11.4 17.8-13.3 21.4-13.4 26.5-.2 8.3 7.1 10.9 16.7 6 4.4-2.2 4.7-2.2 4.7-.5 0 1.6.8 1.9 5.3 1.9 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.4 21.3-15.4 27.6-10.3 32.4 4.2 3.9 12 1.6 22.4-6.7l3.5-2.8-2.7 4c-4.2 6.2-3.7 7.5 2.6 7.5 3.9 0 5.8-.5 6.9-1.8.9-.9 5.8-8.7 10.8-17.2 13.2-22 18-28.1 26-32.9 5.2-3.1 7-2.8 7 1.2 0 2.5-2.2 6.8-8.2 16.3-13.3 21.1-15.4 27.6-10.5 32.2 4.5 4.3 12 2 22.5-6.7 5.6-4.7 6.2-5 6.2-2.9 0 3.7 3.4 8.3 7.6 10.3 14.4 7 36.7-6.2 47.5-28 4-8 4.4-9.5 4.4-16.1 0-6.3-.3-7.6-2.4-9.8-8.4-8.9-26.6-4-42.2 11.5-6.3 6.2-8.5 9.2-12.2 17-3.4 7.1-5.7 10.3-9.1 13.1-5.7 4.8-9.3 6.5-10.7 5.1-1.6-1.6 1.6-8.1 10.1-20.8 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13.2-21.9 16.4-28.5 14.7-30.6-2-2.4-13.9-.7-13.9 2S293.2 74.5 284 88c-5 7.3-16 18.3-20.1 20-7.4 3.1-5.6-3.1 6.1-20.5 8.5-12.6 10-15.9 10-21.8 0-9.6-10.3-11.3-20.9-3.6-2.4 1.7-4.4 2.9-4.6 2.7s4.2-7.7 9.7-16.8c13-21.5 16.4-28.5 14.8-30.5-1.1-1.4-4.9-1.9-7.5-1zM151.8 62.2c3.2 3.2-.1 12.6-10.1 28.1-8.9 13.8-16.1 20.7-21.6 20.7-2.7 0-4.4-3.4-3.5-7.3 2.3-11.1 21.5-37.5 29.9-41.3 3.7-1.7 3.8-1.7 5.3-.2zm232 0c3.5 3.5-1 17.8-9.8 31.1-10.1 15.4-20.3 22.2-25.5 17-6.8-6.7 12.9-39 29-47.6 3.7-2 4.7-2.1 6.3-.5z"/><path d="M505.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8zM684.6 33c-6.8 8.1.3 14.8 7.8 7.3 2.1-2.1 2.6-3.5 2.4-6.2-.3-3.3-.6-3.6-3.9-3.9-3-.3-4.1.2-6.3 2.8z"/></svg></a><div class="flex items-center mb-4 gap-4"><img width=56 height=56 class="h-16 w-16 rounded-full" src=/meow.webp alt=manhhomienbienthuy><p> manhhomienbienthuy<br> salaried coder </p></div></div><div class=py-8><p class=mb-4> Trang web này được viết bằng tất cả ♥ và tinh thần của tôi, dành tặng cho tình yêu của tôi, yunachan. </p><p class=mb-4> Trang web được lưu trữ trên <a class=font-bold href=https://manhhomienbienthuy.github.io>GitHub Pages</a>, hình ảnh được lưu trữ trên các trang <a class=font-bold href=https://manhhomienbienthuy.imgur.com/ target=_blank rel="noopener noreferrer">imgur</a>, <a class=font-bold href=https://instagram.com/manhhomienbienthuy/ target=_blank rel="noopener noreferrer">Instagram</a> và <a class=font-bold href=https://photos.google.com/ target=_blank rel="noopener noreferrer">Google Photos</a>. </p><p class=mb-4> Nội dung trang web này được cấp phép theo giấy phép <a class=font-bold href=https://creativecommons.org/licenses/by-nc-nd/4.0/ target=_blank rel="noopener noreferrer">CC BY-NC-ND 4.0</a>. </p><p> Cập nhật lần cuối lúc <a class=font-bold target=_blank rel="noopener noreferrer" href="http://www.timeanddate.com/worldclock/fixedtime.html?iso=20220523T094453&p1=248">2022-05-23 09:44:53 (JST)</a> (rev: <code>30eea8c</code>). </p></div><div class=py-8><p class=mb-4> HTML được build bởi <a class=font-bold href=http://blog.getpelican.com/ target=_blank rel="noopener noreferrer">Pelican</a>, tự động hóa bằng <a class=font-bold target=_blank rel="noopener noreferrer" href=https://github.com/features/actions>GitHub Actions</a>, có sử dụng <a class=font-bold target=_blank href=https://python-markdown.github.io/ rel="noopener noreferrer">Python-Markdown</a>, <a class=font-bold target=_blank href=https://pygments.org/ rel="noopener noreferrer">Pygments</a> và nhiều công cụ khác. </p><p class=mb-4> Giao diện được làm dựa trên <a class=font-bold href=https://vanice-veethemes.blogspot.com/ target=_blank rel="noopener noreferrer">Vanice theme</a> với sự hỗ trợ của <a class=font-bold href=https://tailwindcss.com/ target=_blank rel="noopener noreferrer">Tailwind CSS</a> và <a class=font-bold target=_blank href=https://lisperator.net/uglifyjs/ rel="noopener noreferrer">UglifyJS</a>. Trang báo lỗi (404) được làm dựa trên <a href=https://github.com/mdjamal/tailwindcss-rails-custom-error-page-templates class=font-bold target=_blank rel="noopener noreferrer">chia sẻ này</a>. </p><p> Icon sử dụng kết hợp giữa <a class=font-bold href=https://heroicons.com/ target=_blank rel="noopener noreferrer">Heroicons</a> và <a class=font-bold href=https://icons.getbootstrap.com/ target=_blank rel="noopener noreferrer">Bootstrap Icons</a>. </p></div></div></div><div class=bg-gray-900><div class="flex flex-wrap justify-between max-w-screen-xl mx-auto px-4"><div class="pt-4 md:py-4"> Copyright © 2010–2022 <a href=/pages/gioi-thieu.html class=font-bold> manhhomienbienthuy </a></div><div class="flex-grow py-4 text-right divide-x divide-solid"><span class=px-2><a href=/ >Trang chủ</a></span><span class=px-2><a href=/pages/gioi-thieu.html>Giới thiệu</a></span><span class=pl-2><a href=#>Lên đầu trang ↑</a></span></div></div></div></footer><script defer src=/theme/js/app.min.js></script></body></html>